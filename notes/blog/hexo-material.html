<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hexo Material 主题配置 | 小灰灰灰灰的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/theme/favicon.png">
    <link rel="alternate" type="application/rss+xml" href="https://blog.lyh543.cn/rss.xml" title="小灰灰灰灰的博客 RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://blog.lyh543.cn/feed.atom" title="小灰灰灰灰的博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://blog.lyh543.cn/feed.json" title="小灰灰灰灰的博客 JSON Feed">
    <meta name="description" content="Material 主题是一个基于 Material Design （质感设计）的 Hexo主题。

Hexo 更换主题的方法参见另一篇博客。

在网上找到了一个配置过程非常详实的 ...">
    
    <link rel="preload" href="/assets/css/0.styles.0eda1ac1.css" as="style"><link rel="preload" href="/assets/js/app.edad0ad8.js" as="script"><link rel="preload" href="/assets/js/22.7ed43459.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.0eda1ac1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="app" class="v-application v-application--is-ltr theme--light"><div class="v-application--wrap"><!----> <main id="main-content" class="v-main" style="padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;"><div class="v-main__wrap"><div><div class="container"><div class="row justify-center"><div class="col-sm-9 col-12"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><div class="v-card v-sheet theme--light"><div class="container"><div itemprop="articleBody" class="markdown-body content__default"><p><a href="https://github.com/viosey/hexo-theme-material/" target="_blank" rel="noopener noreferrer">Material 主题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个基于 Material Design （质感设计）的 <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>主题。</p> <p>Hexo 更换主题的方法参见另一篇<a href="/notes/blog/hexo-building-blog.html">博客</a>。</p> <p>在网上找到了一个配置过程非常详实的<a href="https://zhouxiaoyu1994.github.io/2017/04/27/Hexo%E6%B7%B1%E5%9D%91%E4%B9%8B%E6%97%85%EF%BC%885%EF%BC%89%E2%80%94%20Materia%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96/" target="_blank" rel="noopener noreferrer">博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，而且还修复了一些主题的小 bug，基本上按照这个博客做就好啦。</p> <h2 id="几个-bug"><a href="#几个-bug" class="header-anchor">#</a> 几个 bug</h2> <p>但是按照这篇博客做了之后，还是有几个小问题：</p> <h3 id="bug1-无法本地搜索"><a href="#bug1-无法本地搜索" class="header-anchor">#</a> bug1：无法本地搜索</h3> <p>要实现本地搜索，除了安装<a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="noopener noreferrer">hexo-generator-search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>插件外，还要把<code>主题配置文件</code>的<code>search.use</code>从<code>google</code>修改为<code>local</code>。</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># Search Systems</span>
<span class="token comment"># Available value:</span>
<span class="token comment">#     swiftype | google | local</span>
<span class="token key atrule">search</span><span class="token punctuation">:</span>
    <span class="token key atrule">use</span><span class="token punctuation">:</span> local
    <span class="token key atrule">swiftype_key</span><span class="token punctuation">:</span>
</code></pre></div><h3 id="bug2-图表显示不全"><a href="#bug2-图表显示不全" class="header-anchor">#</a> bug2：图表显示不全</h3> <p>原主题配置文件的图标包是从<code>googleapis</code>在线获取的，由于众所周知的原因，大陆不能顺利访问。但是主题配置文件中提供了镜像站的选项，把<code>google</code>改成中科大的镜像站<code>ustc</code>就可以正常显示图标了。</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">fonts</span><span class="token punctuation">:</span>
    <span class="token key atrule">family</span><span class="token punctuation">:</span> Roboto<span class="token punctuation">,</span> <span class="token string">&quot;Helvetica Neue&quot;</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> <span class="token string">&quot;PingFang SC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hiragino Sans GB&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Microsoft YaHei&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token punctuation">-</span>serif
    <span class="token key atrule">use</span><span class="token punctuation">:</span> ustc
    <span class="token key atrule">custom_font_host</span><span class="token punctuation">:</span>
</code></pre></div><h3 id="bug3-代码高亮也有问题"><a href="#bug3-代码高亮也有问题" class="header-anchor">#</a> bug3：代码高亮也有问题</h3> <p>如下图。</p> <p><img src="https://user-images.githubusercontent.com/15999179/34318128-78f404fe-e7fa-11e7-8d66-3d72bf7f6b88.png" alt="highlight"></p> <p>这个在<a href="https://github.com/viosey/hexo-theme-material/issues/601" target="_blank" rel="noopener noreferrer">Material主题的Issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>被大量提及。</p> <p>解决方法步骤：</p> <ul><li>关掉<code>主题配置文件</code>的<code>hanabi</code>高亮，并开启<code>prettify</code>高亮；</li></ul> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">prettify</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">&quot;github-v2&quot;</span>

<span class="token key atrule">hanabi</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">includeDefaultColors</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">customColors</span><span class="token punctuation">:</span>
</code></pre></div><ul><li>在<code>站点配置文件</code>里，关掉 Hexo 自带的所有 Highlight。</li></ul> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">highlight</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">auto_detect</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">tab_replace</span><span class="token punctuation">:</span>
</code></pre></div><ul><li>下一次执行<code>hexo g</code>之前先<code>hexo clean</code></li></ul> <p>放一个我的<a href="config.yml">主题配置文件</a></p> <p>改名以后，直接覆盖<code>_\themes\material\_config.yml</code>就可以了，也可以做一些自己的修改。</p> <h2 id="页面计数-不蒜子"><a href="#页面计数-不蒜子" class="header-anchor">#</a> 页面计数——不蒜子</h2> <p>Material 里面自带了不蒜子的。在主题配置文件里面打开开关，然后更换一下不蒜子的链接（原服务器倒闭了）就可以了。这个挺简单的。</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># _config.yml</span>
<span class="token comment"># Busuanzi 不蒜子 Views</span>
<span class="token key atrule">busuanzi</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">all_site_uv</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">post_pv</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">busuanzi_pure_mini_js</span><span class="token punctuation">:</span> <span class="token string">&quot;https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>
</code></pre></div><h2 id="推荐插件"><a href="#推荐插件" class="header-anchor">#</a> 推荐插件</h2> <p>插件等配置可以参照这个</p> <p><a href="https://juejin.im/post/5bebfe51e51d45332a456de0#heading-29" target="_blank" rel="noopener noreferrer">【持续更新】最全Hexo博客搭建+主题优化+插件配置+常用操作+错误分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>一些插件的链接</p> <p><a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="noopener noreferrer">hexo-generator-search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>下载安装插件，需要在博客根目录使用下面这句命令</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>package name<span class="token operator">&gt;</span> --save
</code></pre></div><p>一定要加<code>--save</code>参数，这样该插件才会被加入该项目的<code>dependencies</code>中，下次生成hexo的时候才会被编译。</p> <p>插件具体使用方法建议去看各插件的github项目的<code>README.MD</code>文件。</p> <h3 id="博客置顶插件"><a href="#博客置顶插件" class="header-anchor">#</a> 博客置顶插件</h3> <blockquote><p>摘抄自：<a href="https://juejin.im/post/5bebfe51e51d45332a456de0#heading-29#heading-21" target="_blank" rel="noopener noreferrer">【持续更新】最全Hexo博客搭建+主题优化+插件配置+常用操作+错误分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>安装插件：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> uninstall hexo-generator-index --save
<span class="token function">npm</span> <span class="token function">install</span> hexo-generator-index-pin-top --save
</code></pre></div><p>然后在需要置顶的文章的Front-matter中加上 <code>top</code> 即可：</p> <div class="language- extra-class"><pre class="language-text"><code>---
title: 2018
date: 2018-10-25 16:10:03
top: 10
---
</code></pre></div></div> <hr role="separator" aria-orientation="horizontal" class="ma-4 v-divider theme--light"> <div data-v-43fd1027><script src="https://giscus.app/client.js" async="async" service="giscus" data-repo="lyh543/blog-comments" data-repo-id="R_kgDOHIb2Zg" data-category="Announcements" data-category-id="DIC_kwDOHIb2Zs4COh2z" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" data-v-43fd1027></script></div></div></div></article></div> <!----></div></div> <div role="dialog" class="v-dialog__container"><button type="button" role="button" aria-haspopup="true" aria-expanded="false" class="v-btn v-btn--bottom v-btn--is-elevated v-btn--fab v-btn--fixed v-btn--has-bg v-btn--right v-btn--round theme--dark v-size--default primary"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-information-variant theme--dark"></i></span></button><!----></div></div></div></main> <footer id="footer" class="v-footer v-sheet theme--light v-footer--absolute v-footer--padless v-footer--inset" style="left:0px;right:0px;bottom:0px;"><div class="lighten-1 text-center v-card v-sheet theme--light rounded-0" style="width:100%;"><div class="v-card__text"><a href="https://github.com/lyh543/vuepress-theme-blog-material/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-github theme--light" style="font-size:24px;"></i></span></a><a href="https://blog.lyh543.cn/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-web theme--light" style="font-size:24px;"></i></span></a><a href="mailto:lyh543@outlook.com" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-email theme--light" style="font-size:24px;"></i></span></a><a href="https://weibo.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-sina-weibo theme--light" style="font-size:24px;"></i></span></a><a href="https://weixin.qq.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-wechat theme--light" style="font-size:24px;"></i></span></a><a href="https://qq.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-qqchat theme--light" style="font-size:24px;"></i></span></a><a href="https://bilibili.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><div class="v-image v-responsive theme--light" style="max-width:24px;"><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a></div> <hr role="separator" aria-orientation="horizontal" class="v-divider theme--light"> <div class="v-card__text"><span class="footer-text">lyh543 © 2019 - 2022</span>
        |
      <a href="https://beian.miit.gov.cn/" target="_blank" class="footer-link">蜀ICP备19034464号</a>
        |
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" class="footer-link">署名 - 非商业性 - 相同方式共享 4.0 国际协议</a>
        |
       <span class="footer-text">
        Theme
        <a href="https://github.com/lyh543/vuepress-theme-blog-material/" target="_blank" class="footer-link">
          vuepress-theme-blog-material
        </a></span></div></div></footer></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.edad0ad8.js" defer></script><script src="/assets/js/22.7ed43459.js" defer></script>
  </body>
</html>
