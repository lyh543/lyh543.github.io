<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Docker 笔记 | 小灰灰灰灰的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Linux,服务器,Docker">
    <meta name="description" content="Docker 像是一个容器一样，能够让应用运行在隔离的环境中。其实很像一个虚拟机，但是其本质和虚拟机是不同的，结构较虚拟机简单的多，因此速度也远快于虚拟机。Docker 还是跨平台的，可以在 Linux&#x2F;Windows&#x2F;MacOS 上运行。对于 Windows 的 Docker（准确的说是 Docker Desktop），它还提供了 Linux 和 Windows 两种子系统。（也就是说，在 Li">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker 笔记">
<meta property="og:url" content="https://blog.lyh543.cn/linux/docker/index.html">
<meta property="og:site_name" content="小灰灰灰灰的博客">
<meta property="og:description" content="Docker 像是一个容器一样，能够让应用运行在隔离的环境中。其实很像一个虚拟机，但是其本质和虚拟机是不同的，结构较虚拟机简单的多，因此速度也远快于虚拟机。Docker 还是跨平台的，可以在 Linux&#x2F;Windows&#x2F;MacOS 上运行。对于 Windows 的 Docker（准确的说是 Docker Desktop），它还提供了 Linux 和 Windows 两种子系统。（也就是说，在 Li">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-02-19T13:01:58.000Z">
<meta property="article:modified_time" content="2021-09-11T12:19:35.123Z">
<meta property="article:author" content="lyh543">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="服务器">
<meta property="article:tag" content="Docker">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="小灰灰灰灰的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="mdi mdi-close icon-lg"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">lyh543</h5>
          <a href="mailto:lyh543@outlook.com" title="lyh543@outlook.com" class="mail">lyh543@outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg mdi mdi-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg mdi mdi-archive"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg mdi mdi-tag-multiple"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg mdi mdi-format-list-bulleted-square"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/lyh543" target="_blank" >
                <i class="icon icon-lg mdi mdi-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg mdi mdi-menu"></i>
        </a>
        <div class="flex-col header-title ellipsis">Docker 笔记</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg mdi mdi-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg mdi mdi-magnify"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg mdi mdi-share-variant"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Docker 笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-02-19T13:01:58.000Z" itemprop="datePublished" class="page-time">
  2020-02-19
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux/">Linux</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装-Docker"><span class="post-toc-text">安装 Docker</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-安装-Docker"><span class="post-toc-text">Linux 安装 Docker</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#脚本安装"><span class="post-toc-text">脚本安装</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手动安装"><span class="post-toc-text">手动安装</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Windows-安装-Docker"><span class="post-toc-text">Windows 安装 Docker</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在-WSL-1-中使用-docker-cli"><span class="post-toc-text">在 WSL 1 中使用 docker-cli</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装-Docker-Compose"><span class="post-toc-text">安装 Docker Compose</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Docker-更换国内源"><span class="post-toc-text">Docker 更换国内源</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常用-Docker-镜像"><span class="post-toc-text">常用 Docker 镜像</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Docker-基础命令"><span class="post-toc-text">Docker 基础命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Docker-Compose-基础命令"><span class="post-toc-text">Docker Compose 基础命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Docker-Compose-文件语法"><span class="post-toc-text">Docker Compose 文件语法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常见错误及解决办法"><span class="post-toc-text">常见错误及解决办法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在-Docker-容器中如何安装软件"><span class="post-toc-text">在 Docker 容器中如何安装软件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Read-only-file-system"><span class="post-toc-text">Read-only file system</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Container-is-unhealty"><span class="post-toc-text">Container is unhealty</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-linux/docker"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Docker 笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-02-19 21:01:58" datetime="2020-02-19T13:01:58.000Z"  itemprop="datePublished">2020-02-19</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux/">Linux</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>Docker 像是一个容器一样，能够让应用运行在隔离的环境中。其实很像一个虚拟机，但是其本质和虚拟机是不同的，结构较虚拟机简单的多，因此速度也远快于虚拟机。<br>Docker 还是跨平台的，可以在 Linux/Windows/MacOS 上运行。<br>对于 Windows 的 Docker（准确的说是 Docker Desktop），它还提供了 Linux 和 Windows 两种子系统。（也就是说，在 Linux 下能运行的 Docker 容器，完全能够在 Windows 上运行）</p>
<p>而 Docker Compose 可以根据配置文件自动下载镜像、配置、运行 Docker 容器，一气呵成。<br>下载网上写好的配置文件，然后一行代码 <code>docker-compose</code> 即可完成配置，搭建好自己的云服务。它同样是跨平台的。这也是 Docker 方便的原因之一。</p>
<blockquote>
<p>Docker 文档：<a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/centos/</a><br>Docker Compose 文档：<a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener">https://docs.docker.com/compose/install/</a></p>
</blockquote>
<p>我收集的基于 Docker 的好用的云服务可以见<a href="#docker-%E9%95%9C%E5%83%8F">后面小节</a>。</p>
<h2 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h2><h3 id="Linux-安装-Docker"><a href="#Linux-安装-Docker" class="headerlink" title="Linux 安装 Docker"></a>Linux 安装 Docker</h3><h4 id="脚本安装"><a href="#脚本安装" class="headerlink" title="脚本安装"></a>脚本安装</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -s https://get.docker.com)</span><br></pre></td></tr></table></figure>

<h4 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h4><p>由于项目是基于 Docker 的，所以要先安装 Docker。这篇文章安装的是稳定版的 Docker Engine - Community。</p>
<p>先卸载以前的 Docker 安装：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>

<p>再安装所需的包：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install -y yum-utils \</span><br><span class="line">  device-mapper-persistent-data \</span><br><span class="line">  lvm2</span><br></pre></td></tr></table></figure>

<p>接下来添加 Docker 的库，并安装 Docker：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">$ sudo yum install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>到这里，我们安装了 Docker 并建立了 <code>Docker</code> 用户组，但里面还没有成员。  </p>
<p>接下来启动 Docker：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<p>然后进行一个对 Docker 的 Hello-World 测试：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker run hello-world</span><br><span class="line">Unable to find image <span class="string">'hello-world:latest'</span> locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">1b930d010525: Pull complete</span><br><span class="line">Digest: sha256:9572f7cdcee8591948c2963463447a53466950b3fc15a247fcad1917ca215a2f</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the <span class="string">"hello-world"</span> image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image <span class="built_in">which</span> runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, <span class="built_in">which</span> sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure>

<p>表示测试正常。</p>
<h3 id="Windows-安装-Docker"><a href="#Windows-安装-Docker" class="headerlink" title="Windows 安装 Docker"></a>Windows 安装 Docker</h3><p>Windows 也是支持 Docker 的，他还支持 Windows 容器和 Linux 容器。</p>
<p>安装方法是去官网下载 Docker Desktop 并安装，然后就可以在命令行中使用 <code>docker</code> 和下面提到的 <code>docker-compose</code> 了，命令和 Linux 也是一样的。</p>
<h3 id="在-WSL-1-中使用-docker-cli"><a href="#在-WSL-1-中使用-docker-cli" class="headerlink" title="在 WSL 1 中使用 docker-cli"></a>在 WSL 1 中使用 docker-cli</h3><p>WSL 2 中集成了 docker-cli，可以直接管理 Windows 的 Docker。在 WSL 1 中输入 <code>docker</code>，可以看到 Docker 推荐你转换为 WSL 2。</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">command</span> <span class="string">'docker'</span> <span class="title">could</span> <span class="title">not</span> <span class="title">be</span> <span class="title">found</span> <span class="title">in</span> <span class="title">this</span> <span class="title">WSL</span> <span class="title">1</span> <span class="title">distro</span>.</span><br><span class="line">We recommend <span class="built_in">to</span> <span class="built_in">convert</span> this distro <span class="built_in">to</span> WSL <span class="number">2</span> <span class="keyword">and</span> activate</span><br><span class="line"><span class="keyword">the</span> WSL integration <span class="keyword">in</span> Docker Desktop settings.</span><br><span class="line"> </span><br><span class="line">See <span class="keyword">https</span>://docs.docker.com/docker-<span class="keyword">for</span>-windows/wsl/ <span class="keyword">for</span> details.</span><br></pre></td></tr></table></figure>

<p>然而我并不想转换，可参考 <a href="https://blog.csdn.net/esinzhong/article/details/107617284" target="_blank" rel="noopener">Windows 10 WSL1 的子系统下完美解决docker的命令问题_累积技术 沉淀经验-CSDN博客</a> 在 WSL1 下安装 <code>docker-cli</code>。</p>
<h2 id="安装-Docker-Compose"><a href="#安装-Docker-Compose" class="headerlink" title="安装 Docker Compose"></a>安装 Docker Compose</h2><p>Docker Compose，就可以使用配置文件，一行代码配置 Docker 了。</p>
<p>Docker Desktop 自带 Docker Compose，Linux 需要自行下载。</p>
<p>下载 Docker Compose 最新版，并给予可执行权限：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L https:<span class="regexp">//gi</span>thub.com<span class="regexp">/docker/</span>compose<span class="regexp">/releases/</span>latest<span class="regexp">/download/</span>docker-compose-`uname -s`-`uname -m` -o <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>docker-compose</span><br><span class="line">sudo chmod +x <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>docker-compose</span><br></pre></td></tr></table></figure>

<p>最后检查一下是否成功安装：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose --version</span><br><span class="line">docker-compose version <span class="number">1.25</span><span class="number">.4</span>, build <span class="number">8</span>d51620a</span><br></pre></td></tr></table></figure>

<h2 id="Docker-更换国内源"><a href="#Docker-更换国内源" class="headerlink" title="Docker 更换国内源"></a>Docker 更换国内源</h2><blockquote>
<p>参考链接：<a href="https://www.cnblogs.com/wushuaishuai/p/9984228.html#_label0" target="_blank" rel="noopener">https://www.cnblogs.com/wushuaishuai/p/9984228.html#_label0</a></p>
</blockquote>
<p>和很多东西一样，Docker 镜像也有国内仓库。</p>
<p>国内的 Docker 镜像仓库有：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//hub-mirror.c.163.com</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//3laho3y3.mirror.aliyuncs.com</span></span><br><span class="line"><span class="symbol">http:</span><span class="comment">//f1361db2.m.daocloud.io</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//mirror.ccs.tencentyun.com</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//docker.mirrors.ustc.edu.cn</span></span><br><span class="line"><span class="symbol">https:</span><span class="comment">//registry.docker-cn.com</span></span><br></pre></td></tr></table></figure>

<p>这里选 aliyun 的做示范。</p>
<p>创建一个 <code>daemon.json</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>

<p>按 <code>i</code> 进入编辑模式，写入以下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"registry-mirrors"</span>: [<span class="string">"https://3laho3y3.mirror.aliyuncs.com"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按 <code>esc</code> 退出编辑模式，按 <code>:wq</code> 保存。</p>
<p>然后重启 Docker 服务。</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo systemctl restart docker</span></span><br></pre></td></tr></table></figure>

<p>Windows 应到 Docker Desktop 的 Settings 中的 Docker Engine 栏中修改。下面是我修改后的内容。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"registry-mirrors"</span>: [<span class="string">"https://3laho3y3.mirror.aliyuncs.com"</span>],</span><br><span class="line">  <span class="attr">"insecure-registries"</span>: [],</span><br><span class="line">  <span class="attr">"debug"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"experimental"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>验证镜像源可以使用命令 <code>docker info</code>，如果看到有两行：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Registry Mirror<span class="variable">s:</span></span><br><span class="line"> http<span class="variable">s:</span>//<span class="number">3</span>laho3y3.mirror.aliyuncs.<span class="keyword">com</span>/</span><br></pre></td></tr></table></figure>

<p>就表示成功。</p>
<p>下次拉取镜像的时候就快得多了。</p>
<h2 id="常用-Docker-镜像"><a href="#常用-Docker-镜像" class="headerlink" title="常用 Docker 镜像"></a>常用 Docker 镜像</h2><p>个人收集的一些基于 Docker 的云服务。</p>
<table>
<thead>
<tr>
<th>镜像</th>
<th>创建命令或 <code>docker-compose.yml</code> 链接</th>
</tr>
</thead>
<tbody><tr>
<td>Docker Web 管理</td>
<td><code>docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce</code></td>
</tr>
<tr>
<td>私人云 NextCloud</td>
<td><a href="/linux/build-owncloud-on-server/nextcloud-docker-compose.tar">nextcloud-docker-compose.tar</a></td>
</tr>
<tr>
<td>私人云 <a href="https://github.com/HumanBrainProject/seafile-compose/" target="_blank" rel="noopener">Seafile</a></td>
<td><a href="https://github.com/HumanBrainProject/seafile-compose/blob/master/docker-compose.yaml" target="_blank" rel="noopener">docker-compse.yaml</a></td>
</tr>
<tr>
<td><a href="https://blog.devzeng.com/blog/build-webdav-server-in-docker.html" target="_blank" rel="noopener">morrisjobke/webdav</a></td>
<td><code>docker run -d --name webdav -v D:/:/var/webdav -e USERNAME=test -e PASSWORD=test -p 8888:80 --restart always morrisjobke/webdav</code></td>
</tr>
<tr>
<td>在线 Markdown 编辑器 <a href="https://github.com/hackmdio/codimd" target="_blank" rel="noopener">CodiMD</a></td>
<td><a href="https://hackmd.io/c/codimd-documentation/%2Fs%2Fcodimd-docker-deployment#Using-docker-compose-to-setup-CodiMD" target="_blank" rel="noopener">docker-compse.yml</a></td>
</tr>
<tr>
<td>在线 LaTeX 编辑器 <a href="https://github.com/overleaf/overleaf/wiki/Quick-Start-Guide" target="_blank" rel="noopener">Overleaf</a></td>
<td><a href="https://github.com/overleaf/overleaf/blob/master/docker-compose.yml" target="_blank" rel="noopener">docker-compose.yml</a></td>
</tr>
<tr>
<td>Qbittorrent Enhanced Edition</td>
<td><code>docker run -d --name qbittorrentee -e WEBUIPORT=8081 -e PUID=1026 -e PGID=100 -e TZ=Asia/Shanghai -p 6881:6881 6881:6881/udp -p 8081:8081 -v /media/Downloads:/downloads --restart always superng6/qbittorrentee</code></td>
</tr>
<tr>
<td>云 SSH <a href="https://hub.docker.com/r/oldiy/docker-webssh2" target="_blank" rel="noopener">WebSSH2</a></td>
<td>无</td>
</tr>
<tr>
<td>远程 Firefox <a href="https://hub.docker.com/r/oldiy/firefox-enpass-novnc" target="_blank" rel="noopener">firefox-enpass-novnc</a></td>
<td>无</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/oddrationale/docker-shadowsocks" target="_blank" rel="noopener">shadowsocks</a></td>
<td><code>docker run --name shadowsocks -d -p 54285:54285 --restart always oddrationale/docker-shadowsocks -s 0.0.0.0 -p 54285 -k yourpasswd -m aes-256-cfb</code></td>
</tr>
<tr>
<td><a href="https://github.com/pengchujin/v2rayDocker" target="_blank" rel="noopener">v2ray+自定义dns</a></td>
<td><code>docker run -d --name v2ray -p 443:443 -p 80:80 -v $HOME/.caddy:/root/.caddy  pengchujin/v2ray_ws:0.10 YOURDOMAIN.COM V2RAY_WS &amp;&amp; sleep 3s &amp;&amp; sudo docker logs v2ray</code></td>
</tr>
<tr>
<td>MySQL</td>
<td><code>docker run -d --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 --restart always mysql</code></td>
</tr>
<tr>
<td>Redis</td>
<td><code>docker run -d --name redis -p 6379:6379 -e REDIS_PASSWORD=redis --restart always redis /bin/sh -c &#39;redis-server --appendonly yes --requirepass ${REDIS_PASSWORD}&#39;</code></td>
</tr>
<tr>
<td>Memcached</td>
<td><code>docker run -d --name memcached -p 11211:11211 --restart always memcached</code></td>
</tr>
</tbody></table>
<h2 id="Docker-基础命令"><a href="#Docker-基础命令" class="headerlink" title="Docker 基础命令"></a>Docker 基础命令</h2><p>初次接触 Docker，要记得两个概念：images（镜像） 和 containers（容器）。从网上获取一个镜像，然后每次可以由这个镜像创造一个容器（像是每次由一个系统镜像安装一个系统一样）。</p>
<p>下面是我最先接触到的几条命令，可能比较适合和我一样的新人。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
<th>常用参数</th>
</tr>
</thead>
<tbody><tr>
<td><code>docker run -dit ubuntu</code></td>
<td>从 Ubuntu 镜像创造一个容器并运行</td>
<td>可用 <code>--name</code> 对容器命名，默认名是随机生成的；在最后可加 <code>&lt;command&gt;</code></td>
</tr>
<tr>
<td><code>docker start -i &lt;name&gt;</code></td>
<td>运行名为 <code>&lt;name&gt;</code>（也可以是容器的 container ID 值的前几位）的容器</td>
<td></td>
</tr>
<tr>
<td><code>docker images</code></td>
<td>查看本地的镜像</td>
<td></td>
</tr>
<tr>
<td><code>docker image prune -af</code></td>
<td>删除所有没有使用的镜像（如果有容器使用了某镜像，无论这个容器正在运行/已停止，这个镜像不会被删除）</td>
<td></td>
</tr>
<tr>
<td><code>docker ps</code></td>
<td>查看正在运行的容器</td>
<td>加 <code>--all</code> 或 <code>-a</code> 查看所有的（包括已停止的镜像）</td>
</tr>
<tr>
<td><code>docker container rm &lt;name&gt;</code></td>
<td>删除名为 <code>&lt;name&gt;</code>（也可以是容器的 container ID 值的前几位）的容器</td>
<td></td>
</tr>
<tr>
<td><code>docker container prune -af</code></td>
<td>删除所有已停止的容器</td>
<td></td>
</tr>
<tr>
<td><code>docker container rename &lt;old_name&gt; &lt;new_name&gt;</code></td>
<td>给容器改名</td>
<td></td>
</tr>
<tr>
<td><code>docker exec -it &lt;name&gt; /bin/bash</code></td>
<td>在正在运行的 <code>&lt;name&gt;</code> 容器中运行 bash 命令行</td>
<td></td>
</tr>
<tr>
<td><code>docker update --restart=always &lt;name&gt;</code></td>
<td>让 <code>&lt;name&gt;</code> 容器开机自启、自动重启</td>
<td></td>
</tr>
<tr>
<td><code>-v ~/downloads:/var/webdav</code></td>
<td>将容器外的 <code>~/downloads</code> 映射到容器内的 <code>/var/webdav</code></td>
<td>Windows 下将路径中 <code>\</code> 改为 <code>/</code> 即可，如 <code>d:/Downloads</code></td>
</tr>
</tbody></table>
<h2 id="Docker-Compose-基础命令"><a href="#Docker-Compose-基础命令" class="headerlink" title="Docker Compose 基础命令"></a>Docker Compose 基础命令</h2><table>
<thead>
<tr>
<th>命令</th>
<th>用途</th>
<th>常用参数</th>
</tr>
</thead>
<tbody><tr>
<td><code>docker-compose up</code></td>
<td>以当前文件夹下的 <code>docker-compose.yml</code> 作为配置文件，<code>run</code> 一个容器</td>
<td><code>-d</code>可在后台运行</td>
</tr>
<tr>
<td><code>docker-compose down -v</code></td>
<td>删除当前文件夹下的 <code>docker-compose.yml</code> 所指的容器</td>
<td></td>
</tr>
</tbody></table>
<h2 id="Docker-Compose-文件语法"><a href="#Docker-Compose-文件语法" class="headerlink" title="Docker Compose 文件语法"></a>Docker Compose 文件语法</h2><p>本人不会写 <code>docker-compose.yml</code>，只会做一些简单的修改，因此只记录自己用过的语法。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="number">7070</span><span class="string">:80</span></span><br><span class="line">  <span class="comment"># 将 Docker 内的 80 端口映射到宿主机的 7070 端口</span></span><br><span class="line">  <span class="comment"># 即可以通过访问 Docker 外部的 7070 端口访问到内部的 80 端口</span></span><br></pre></td></tr></table></figure>

<h2 id="常见错误及解决办法"><a href="#常见错误及解决办法" class="headerlink" title="常见错误及解决办法"></a>常见错误及解决办法</h2><h3 id="在-Docker-容器中如何安装软件"><a href="#在-Docker-容器中如何安装软件" class="headerlink" title="在 Docker 容器中如何安装软件"></a>在 Docker 容器中如何安装软件</h3><p>不少 Docker 容器都是采用的 Alpine Linux，这个 linux 发行版没有 <code>sudo</code>，没有 <code>bash</code>，我猜是为了简洁吧，毕竟要做成镜像，所以把没用的功能尽量都砍了。</p>
<p>Alpine Linux 下安装软件的命令为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apk add &lt;package name&gt;</span><br></pre></td></tr></table></figure>

<p>顺便中科大镜像源也有 Alpine Linux 的软件源，觉得国内网速慢的可以去更换，镜像站也有更换教程。</p>
<h3 id="Read-only-file-system"><a href="#Read-only-file-system" class="headerlink" title="Read-only file system"></a>Read-only file system</h3><p>可能是 <code>docker-compose.yml</code> 中指定了目录为只读。这些可能出现在：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.3'</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:4.0.1-alpine</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">myoverlay</span></span><br><span class="line">    <span class="attr">read_only:</span> <span class="literal">true</span> <span class="comment"># 指定为只读</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">myoverlay:</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">web:</span></span><br><span class="line">  <span class="attr">build:</span> <span class="string">./web</span></span><br><span class="line">  <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="number">7070</span><span class="string">:80</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="comment"># - nextcloud:/var/www/html:ro   # ro 为只读 (read-only)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">nextcloud:/var/www/html</span>        <span class="comment"># 可读写的版本</span></span><br><span class="line">  <span class="attr">depends_on:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">app</span></span><br></pre></td></tr></table></figure>

<h3 id="Container-is-unhealty"><a href="#Container-is-unhealty" class="headerlink" title="Container is unhealty"></a>Container is unhealty</h3><p>我在 Windows 下安装 overleaf 时，出现过下面的情况。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker-compose up</span><br><span class="line">Creating network <span class="string">"overleaf_default"</span> with the default driver</span><br><span class="line">Creating overleaf_redis ... <span class="keyword">done</span></span><br><span class="line">Creating overleaf_mongo ... <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">ERROR: <span class="keyword">for</span> sharelatex  Container <span class="string">"233abaae4ea7"</span> is unhealthy.</span><br><span class="line">ERROR: Encountered errors <span class="keyword">while</span> bringing up the project.</span><br></pre></td></tr></table></figure>

<p>在配置文件 <code>docker-compose.yml</code> 中写到，<code>sharelatex</code> 基于 <code>overleaf_redis</code> 和 <code>overleaf_mongo</code>，并且要求 <code>mongo</code> 是 healthy 的。<br><code>233abaae4ea7</code> 正是我电脑上的 <code>mongo</code> 的 Container ID。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sharelatex:</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">        <span class="attr">mongo:</span></span><br><span class="line">            <span class="attr">condition:</span> <span class="string">service_healthy</span></span><br><span class="line">        <span class="attr">redis:</span></span><br><span class="line">            <span class="attr">condition:</span> <span class="string">service_started</span></span><br><span class="line"><span class="attr">mongo:</span></span><br><span class="line">    <span class="attr">healthcheck:</span></span><br><span class="line">        <span class="attr">test:</span> <span class="string">echo</span> <span class="string">'db.stats().ok'</span> <span class="string">|</span> <span class="string">mongo</span> <span class="string">localhost:27017/test</span> <span class="string">--quiet</span></span><br><span class="line">        <span class="attr">interval:</span> <span class="string">10s</span></span><br><span class="line">        <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">        <span class="attr">retries:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>healthy 可以理解为是正常运行。</p>
<p>这里出错就有两种情况了，一是 <code>mongo</code> 本身不正常了，另一种是 <code>mongo</code> 检查的太频繁了，导致还没完成启动，就被诊断为 unhealthy 了。</p>
<p>我们检查一下 mongo 的 log。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker ps | find <span class="string">"233a"</span></span><br><span class="line">233abaae4ea7        mongo                                   <span class="string">"docker-entrypoint.s鈥?   About a minute ago   Restarting (14) 47 seconds ago                            overleaf_mongo</span></span><br></pre></td></tr></table></figure>

<p>显示 <code>mongo</code> 正在重启，我估计是在反复不正常-重启，因此就考虑在这方面进行 debug。<br>最后的问题出在由于我是在 Windows 上运行，文件映射可能不正确，我把配置文件的 <code>volumes</code> 部分删掉就可以了。</p>
<p>当然，如果是正确的情况，上一行会显示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; docker ps --all | find <span class="string">"mongo"</span></span><br><span class="line">194bafd8158f        mongo                                   <span class="string">"docker-entrypoint.s鈥?   13 minutes ago      Up 12 minutes (healthy)   27017/tcp                overleaf_mongo</span></span><br></pre></td></tr></table></figure>

<p>这种情况下，可以考虑把 <code>mongo</code> 的 <code>healthcheck</code> 部分的 <code>inteval</code> 和 <code>timeout</code> 调大。</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2021-09-11T12:19:35.123Z" itemprop="dateUpdated">2021-09-11 20:19:35</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="https://blog.lyh543.cn">
            <img src="/img/avatar.png" alt="lyh543">
            lyh543
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.lyh543.cn/linux/docker/&title=《Docker 笔记》 — 小灰灰灰灰的博客&pic=https://blog.lyh543.cn/img/avatar.png" data-title="微博">
          <i class="icon mdi mdi-sina-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.lyh543.cn/linux/docker/&title=《Docker 笔记》 — 小灰灰灰灰的博客&source=" data-title=" QQ">
          <i class="icon mdi mdi-qqchat"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.lyh543.cn/linux/docker/" data-title=" Facebook">
          <i class="icon mdi mdi-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Docker 笔记》 — 小灰灰灰灰的博客&url=https://blog.lyh543.cn/linux/docker/&via=https://blog.lyh543.cn" data-title=" Twitter">
          <i class="icon mdi mdi-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.lyh543.cn/linux/docker/" data-title=" Google+">
          <i class="icon mdi mdi-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-lg mdi mdi-share-variant"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/linux/build-owncloud-on-server/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon mdi mdi-chevron-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">搭建自己的 Owncloud 云盘</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/linux/build-online-markdown-editor/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-lg icon-pl mdi mdi-chevron-right"></i></div>
        <h4 class="title">搭建在线 MarkDown 编辑器 -- CodiMD</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'ec7daa4e047c3c30570d',
          clientSecret: '025a9e40a1d101f28fd1a945d286a819e9fa1c3d',
          repo: 'lyh543.github.io',
          owner: 'lyh543',
          admin: ['lyh543'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg mdi mdi-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>lyh543 &copy; 2019 - 2021</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">蜀ICP备19034464号</a><br>
                
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg mdi mdi-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.lyh543.cn/linux/docker/&title=《Docker 笔记》 — 小灰灰灰灰的博客&pic=https://blog.lyh543.cn/img/avatar.png" data-title="微博">
          <i class="icon mdi mdi-sina-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.lyh543.cn/linux/docker/&title=《Docker 笔记》 — 小灰灰灰灰的博客&source=" data-title=" QQ">
          <i class="icon mdi mdi-qqchat"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.lyh543.cn/linux/docker/" data-title=" Facebook">
          <i class="icon mdi mdi-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Docker 笔记》 — 小灰灰灰灰的博客&url=https://blog.lyh543.cn/linux/docker/&via=https://blog.lyh543.cn" data-title=" Twitter">
          <i class="icon mdi mdi-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.lyh543.cn/linux/docker/" data-title=" Google+">
          <i class="icon mdi mdi-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABwklEQVR42u3aQY6DMAwF0N7/0sy20gzttx0CI72sUFvISxeR883rFY/jbZx98v757+vPT1s8cHFxx9zj40hwycT5889+g4uLu597NsHZdfXbyZaHi4v7fO4EnXyLi4v7H7lJuZOUPri4uM/nJoeTSXSSb23Lzmq4uLgDbp5SXnd9Sb6Li4vb4h7FUaVUi6Evs+Pi4m7h9sqXZPpqKyUvm3Bxca/m5tPkUWmvfIk2QVxc3Fu586CzTEnCEVxc3C3cpEyZxKCfWy+9IAYXF3cntzdBXuj0GieRBBcXdyl3EomuevGiEMHg4uLexE0KnXlgmocp5c4PLi7umDs5/Mzjj/wuXFzcndxJ+yQ/0vTildN9FxcX92JuEoIU2hvBMvIZox0XFxf3Yu7a4KN6b1L04OLi7uf22h554dIrev74E3FxcW/iVl/WrB6N8sZtoQOMi4u7iHsUR76Y+e9xcXHv4lZfoFy1sN6hCxcXdyc3P6gkG1P1utzWxcXF3citbjSTpml++PmS7+Li4j6GO09ieo1bXFzcJ3Orr2r1FnwqxMXF3cidtE6TBeRb25fl4eLibuFWt5J5kzUPQUb5Li4ubof7A0JBkJ8r1nhHAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>










</body>
</html>
