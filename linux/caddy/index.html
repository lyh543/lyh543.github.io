<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Caddy 2 | 小灰灰灰灰的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="编程语言入门,Linux,服务器,Caddy">
    <meta name="description" content="Caddy 优缺点最近了解了一下 Caddy，准备从 Nginx 转到 Caddy。本文指的 Caddy 均为 Caddy 2。 Caddy 官方文档Caddy 中文文档 Caddy 的优点有：  自动申请 TLS 证书（一大卖点！） 语法简洁  缺点有：  插件较 Nginx 少 文档不多，而且网上的讨论也不多  安装 Caddy参考链接：下载 | 安装 由于 yum 自带的是 Caddy 1，">
<meta property="og:type" content="article">
<meta property="og:title" content="Caddy 2">
<meta property="og:url" content="https://blog.lyh543.cn/linux/caddy/index.html">
<meta property="og:site_name" content="小灰灰灰灰的博客">
<meta property="og:description" content="Caddy 优缺点最近了解了一下 Caddy，准备从 Nginx 转到 Caddy。本文指的 Caddy 均为 Caddy 2。 Caddy 官方文档Caddy 中文文档 Caddy 的优点有：  自动申请 TLS 证书（一大卖点！） 语法简洁  缺点有：  插件较 Nginx 少 文档不多，而且网上的讨论也不多  安装 Caddy参考链接：下载 | 安装 由于 yum 自带的是 Caddy 1，">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-06-25T12:46:22.000Z">
<meta property="article:modified_time" content="2021-09-11T12:19:35.123Z">
<meta property="article:author" content="lyh543">
<meta property="article:tag" content="编程语言入门">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="服务器">
<meta property="article:tag" content="Caddy">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="小灰灰灰灰的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="mdi mdi-close icon-lg"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">lyh543</h5>
          <a href="mailto:lyh543@outlook.com" title="lyh543@outlook.com" class="mail">lyh543@outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg mdi mdi-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg mdi mdi-archive"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg mdi mdi-tag-multiple"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg mdi mdi-format-list-bulleted-square"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/lyh543" target="_blank" >
                <i class="icon icon-lg mdi mdi-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg mdi mdi-menu"></i>
        </a>
        <div class="flex-col header-title ellipsis">Caddy 2</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg mdi mdi-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg mdi mdi-magnify"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg mdi mdi-share-variant"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Caddy 2</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-06-25T12:46:22.000Z" itemprop="datePublished" class="page-time">
  2020-06-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux/">Linux</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Caddy-优缺点"><span class="post-toc-text">Caddy 优缺点</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装-Caddy"><span class="post-toc-text">安装 Caddy</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#运行-Caddy"><span class="post-toc-text">运行 Caddy</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Caddyfile-常见配置"><span class="post-toc-text">Caddyfile 常见配置</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Caddyfile-入门"><span class="post-toc-text">Caddyfile 入门</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Hello-World"><span class="post-toc-text">Hello World!</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定义多个网站"><span class="post-toc-text">定义多个网站</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#import-其他配置文件"><span class="post-toc-text">import 其他配置文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#静态网站-file-server"><span class="post-toc-text">静态网站 file_server</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#反向代理-reverse-proxy"><span class="post-toc-text">反向代理 reverse_proxy</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#重定向-redir"><span class="post-toc-text">重定向 redir</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#按顺序执行-route"><span class="post-toc-text">按顺序执行 route</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#处理-handle"><span class="post-toc-text">处理 handle</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定义错误页面-handle-errors"><span class="post-toc-text">定义错误页面 handle_errors</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#rewrite-url-try-files"><span class="post-toc-text">rewrite url try_files</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#占位符-placeholders"><span class="post-toc-text">占位符 placeholders</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#匹配串-matchers"><span class="post-toc-text">匹配串 matchers</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#泛域名-HTTPS"><span class="post-toc-text">泛域名 HTTPS?</span></a></li></ol>
        </nav>
    </aside>


<article id="post-linux/caddy"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Caddy 2</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-06-25 20:46:22" datetime="2020-06-25T12:46:22.000Z"  itemprop="datePublished">2020-06-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Linux/">Linux</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="Caddy-优缺点"><a href="#Caddy-优缺点" class="headerlink" title="Caddy 优缺点"></a>Caddy 优缺点</h2><p>最近了解了一下 Caddy，准备从 Nginx 转到 Caddy。本文指的 Caddy 均为 Caddy 2。</p>
<p><a href="https://caddyserver.com/docs/" target="_blank" rel="noopener">Caddy 官方文档</a><br><a href="https://dengxiaolong.com/caddy/zh/" target="_blank" rel="noopener">Caddy 中文文档</a></p>
<p>Caddy 的优点有：</p>
<ul>
<li>自动申请 TLS 证书（一大卖点！）</li>
<li>语法简洁</li>
</ul>
<p>缺点有：</p>
<ul>
<li>插件较 Nginx 少</li>
<li>文档不多，而且网上的讨论也不多</li>
</ul>
<h2 id="安装-Caddy"><a href="#安装-Caddy" class="headerlink" title="安装 Caddy"></a>安装 Caddy</h2><p>参考链接：<a href="https://caddyserver.com/docs/download" target="_blank" rel="noopener">下载</a> | <a href="https://caddyserver.com/docs/install" target="_blank" rel="noopener">安装</a></p>
<p>由于 <code>yum</code> 自带的是 Caddy 1，而我按官网从 <code>yum</code> 下载 Caddy 的方法貌似会报错，因选择了手动安装。</p>
<p>安装好以后，编写一个简单的 Caddyfile 用于测试：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/caddy</span><br><span class="line">vim /etc/caddy/Caddyfile</span><br></pre></td></tr></table></figure>

<p>输入如下内容，然后保存：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:2015</span><br><span class="line"></span><br><span class="line">Hello world!</span><br></pre></td></tr></table></figure>

<p>启用 Caddy 服务并启动，然后查看其状态：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启用</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> caddy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">sudo systemctl start caddy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看状态</span></span><br><span class="line">systemctl status caddy</span><br></pre></td></tr></table></figure>

<p>如果是 <code>active (running)</code>，则安装成功！如果是 <code>failed</code>，请检查 <code>Caddyfile</code> 的位置是否正确（按官方的配置，应该是 <code>/etc/systemd/system/caddy.service</code>）。</p>
<p>验证一下网站服务，curl 获取网站内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl localhost:2015</span><br></pre></td></tr></table></figure>

<p>如果返回 <code>Hello world!</code> 即正确。</p>
<p>以后，如果修改了 Caddyfile，使用 <code>systemctl reload caddy</code> 即可使其重新读取配置文件。</p>
<h2 id="运行-Caddy"><a href="#运行-Caddy" class="headerlink" title="运行 Caddy"></a>运行 Caddy</h2><p>Caddy 可以由用户运行，也可以由 caddy 用户以 <code>systemctl</code> 的形式在后台运行。</p>
<p>由于 <code>systemctl</code> 运行出错时的提示很少，推荐学习、测试的时候使用用户身份运行，测试完成以后使用 <code>systemctl</code>。</p>
<p>以用户身份运行及停止：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">caddy <span class="literal">start</span></span><br><span class="line">caddy <span class="literal">stop</span></span><br></pre></td></tr></table></figure>

<p>这两条命令会读取当前目录的 <code>Caddyfile</code>，所以记得提前切换到 <code>/etc/caddy</code>。</p>
<p>以系统身份运行及停止：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="literal">start</span> caddy</span><br><span class="line">systemctl <span class="literal">stop</span> caddy</span><br></pre></td></tr></table></figure>

<p>查看调试信息：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status caddy</span><br></pre></td></tr></table></figure>

<p>两种方法的重新加载分别为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">caddy reload</span><br><span class="line">systemctl reload caddy</span><br></pre></td></tr></table></figure>
<h2 id="Caddyfile-常见配置"><a href="#Caddyfile-常见配置" class="headerlink" title="Caddyfile 常见配置"></a>Caddyfile 常见配置</h2><p>在不进行额外设置的情况下，Caddy 都是 443 端口自动申请 HTTPS，80 端口重定向到 443 端口的。</p>
<p><a href="https://caddyserver.com/docs/caddyfile/patterns" target="_blank" rel="noopener">常见配置</a>，入门 Caddyfile 时也可以参考一下，对 Caddyfile 有个基本的认识。</p>
<h2 id="Caddyfile-入门"><a href="#Caddyfile-入门" class="headerlink" title="Caddyfile 入门"></a>Caddyfile 入门</h2><p><a href="https://caddyserver.com/docs/caddyfile" target="_blank" rel="noopener">官方教程</a></p>
<h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World!"></a>Hello World!</h3><p>如果只打算定义一个网站，Caddyfile 的第一行是网址，后面的就是一个或多个指令 <code>directive</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">localhost</span><br><span class="line"></span><br><span class="line">respond <span class="string">"Hello, world!"</span></span><br></pre></td></tr></table></figure>

<p>将上述文本保存在 <code>/etc/caddy/Caddyfile</code>，然后使用 <code>systemctl reload caddy</code> 重新读取后，就可以尝试用浏览器或 curl 打开该网站：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://localhost</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<h3 id="定义多个网站"><a href="#定义多个网站" class="headerlink" title="定义多个网站"></a>定义多个网站</h3><p>一个文件可以定义多个网站。但是需要将上述语法改为下面的等价语法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">localhost &#123; <span class="comment"># 大括号前必须有空格</span></span><br><span class="line">    respond <span class="string">"Hello, world!"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>就可以在多个语法块中定义每个网站了。</p>
<h3 id="import-其他配置文件"><a href="#import-其他配置文件" class="headerlink" title="import 其他配置文件"></a>import 其他配置文件</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/import" target="_blank" rel="noopener">参考</a></p>
<p>也可以在多个文件中定义配置。如在 <code>a.txt</code> 写入以下内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.com &#123;</span><br><span class="line">    respond <span class="string">"Hello, world!"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 <code>b.txt</code> 写入以下内容：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b.com &#123;</span><br><span class="line">    respond <span class="string">"Nice to meet you!"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在 <code>Caddyfile</code> 中写入：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以 Caddyfile 形式导入两个 txt</span></span><br><span class="line">import a.txt</span><br><span class="line">import b.txt</span><br></pre></td></tr></table></figure>

<p>即可。</p>
<p>和 Nginx 一样，你需要提前将 <code>a.com</code> 和 <code>b.com</code> 的域名解析以 A 形式指向你的服务器 IP。</p>
<h3 id="静态网站-file-server"><a href="#静态网站-file-server" class="headerlink" title="静态网站 file_server"></a>静态网站 file_server</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/file_server" target="_blank" rel="noopener">参考</a></p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">example.<span class="class">com </span>&#123;</span><br><span class="line">    root * <span class="meta-keyword">/var/</span>www</span><br><span class="line">    file_server</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问 <code>https://example.com</code> 会看到服务器 <code>/var/www/</code> 的内容。如果存在 <code>index.html</code>，则会打开这个网页。还可指定别的 index：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">example.<span class="class">com </span>&#123;</span><br><span class="line">    root * <span class="meta-keyword">/var/</span>www</span><br><span class="line">    <span class="class">file_server </span>&#123;</span><br><span class="line">        index www.index.html</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以使用浏览器浏览文件夹 + 重定向 + 加上反斜线。</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">example.<span class="class">com </span>&#123;</span><br><span class="line">    redir /v <span class="meta-keyword">/v/</span></span><br><span class="line">    handle <span class="meta-keyword">/v/</span>* &#123;</span><br><span class="line">        uri strip_prefix /v</span><br><span class="line">        file_server <span class="class">browse </span>&#123;</span><br><span class="line">            root <span class="meta-keyword">/etc/</span>uestcmsc_webapp<span class="meta-keyword">/getproxy/</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反向代理-reverse-proxy"><a href="#反向代理-reverse-proxy" class="headerlink" title="反向代理 reverse_proxy"></a>反向代理 reverse_proxy</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/reverse_proxy" target="_blank" rel="noopener">参考</a></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">example.<span class="keyword">com</span> &#123;</span><br><span class="line">    reverse_proxy localhos<span class="variable">t:5000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>三行即可。访问 <code>https://example.com</code> 实际上访问的是服务器的 5000 端口。</p>
<p>利用以下配置可将 <code>https://example.com/proxy</code> 反向代理到 <code>localhost:5000</code>。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">    reverse_proxy <span class="built_in">/proxy </span>localhost:5000</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可利用以下配置可将 <code>https://example.com</code> 反向代理到 <code>localhost:5000/proxy</code>。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">    uri replace / <span class="built_in">/proxy </span>1</span><br><span class="line">    reverse_proxy localhost:5000</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述配置表示，在反向代理之前，将 uri 的前 <code>1</code> 个 <code>/</code> 替换为 <code>/proxy</code>。</p>
<h3 id="重定向-redir"><a href="#重定向-redir" class="headerlink" title="重定向 redir"></a>重定向 redir</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/redir" target="_blank" rel="noopener">参考</a></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">www.example.<span class="keyword">com</span> &#123;</span><br><span class="line">    <span class="keyword">redir</span> http<span class="variable">s:</span>//example.<span class="keyword">com</span>&#123;uri&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问 <code>www.example.com</code> 会 <code>302 Redirect</code> 重定向到 <code>https://example.com</code>。</p>
<p>也可以使用 <code>permanent</code>：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">www.example.<span class="keyword">com</span> &#123;</span><br><span class="line">    <span class="keyword">redir</span> http<span class="variable">s:</span>//example.<span class="keyword">com</span>&#123;uri&#125; permanent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问 <code>www.example.com</code> 会 <code>301 Move permanently</code> 重定向到 <code>https://example.com</code>。</p>
<h3 id="按顺序执行-route"><a href="#按顺序执行-route" class="headerlink" title="按顺序执行 route"></a>按顺序执行 route</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/route" target="_blank" rel="noopener">参考</a></p>
<p>上述语法 <code>file_server</code>、<code>reverse_proxy</code>、<code>redir</code> 可以混合使用。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">    reverse_proxy <span class="built_in">/proxy </span>localhost:5000</span><br><span class="line">    redir         /github github.com</span><br><span class="line">    redir         /google google.com</span><br><span class="line">    file_server   *      /var/www/html/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这会使得 <code>example.com/proxy</code>、<code>example.com/github</code>、<code>example.com/google</code> 以及 <code>example.com</code> 的其他地址执行对应的功能。</p>
<p>但是，默认情况下，在执行过程中，指令的执行顺序会根据指令名进行调整。比如，<code>file_server</code> 是最后执行的。如果改成以下代码，<code>file_server</code> 则不会被运行，因为在执行到 <code>file_server</code> 之前，<code>/google</code> 已经被重定向了。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">    reverse_proxy <span class="built_in">/proxy </span>localhost:5000</span><br><span class="line">    redir         /github github.com</span><br><span class="line">    file_server   /google /var/www/html/</span><br><span class="line">    redir         *       google.com</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果真的需要这么做，可以将所有命令包含在 <code>route</code> 的语句块中。语句块中的内容将<strong>被顺序执行</strong>：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">   <span class="built_in"> route </span>&#123;</span><br><span class="line">        reverse_proxy <span class="built_in">/proxy </span>localhost:5000</span><br><span class="line">        redir         /github github.com</span><br><span class="line">        file_server   /google /var/www/html/</span><br><span class="line">        redir         *       google.com</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="处理-handle"><a href="#处理-handle" class="headerlink" title="处理 handle"></a>处理 handle</h3><p><code>handle</code> 类似于 Nginx 中的 <code>location</code>，是一种类似于分支逻辑的 HTTP handler logic（HTTP 处理逻辑）。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">example.com</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">handle</span> <span class="string">/foo/* &#123;</span></span><br><span class="line">        <span class="attr">file_server</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">handle</span> <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">reverse_proxy</span> <span class="string">127.0.0.1:8080</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>上述语法就会将 <code>/foo</code> 下面的网址以 <code>file_server</code> 运行，对其他则会进行反向代理。实现的功能和 <code>route</code> 类似，不过我猜测 <code>handle</code> 处理这类问题更高效。</p>
<h3 id="定义错误页面-handle-errors"><a href="#定义错误页面-handle-errors" class="headerlink" title="定义错误页面 handle_errors"></a>定义错误页面 handle_errors</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/handle_errors#handle-errors" target="_blank" rel="noopener">参考</a></p>
<p>基于静态网站定义 404 页面的代码如下：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">example.<span class="class">com </span>&#123;</span><br><span class="line">    root * <span class="meta-keyword">/var/</span>www/</span><br><span class="line">    file_server</span><br><span class="line">    <span class="class">handle_errors </span>&#123;</span><br><span class="line">        rewrite * <span class="class">/&#123;http.error.status_code&#125;.html</span></span><br><span class="line"><span class="class">        file_server</span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">&#125;</span></span><br></pre></td></tr></table></figure>

<p>访问到不存在的网址则会显示 <code>/404.html</code> 的内容（但网址不会变化，仍然是访问的网址）。</p>
<h3 id="rewrite-url-try-files"><a href="#rewrite-url-try-files" class="headerlink" title="rewrite url try_files"></a>rewrite url try_files</h3><p><a href="https://caddyserver.com/docs/caddyfile/directives/rewrite" target="_blank" rel="noopener">参考</a></p>
<p>这三条命令都是修改 uri 用。</p>
<ul>
<li><code>rewrite</code> 将匹配的 uri 修改为指定的 uri；</li>
<li><code>uri</code> 在原 uri 上进行修改；</li>
<li><code>try_files</code> 将 <code>uri</code> 修改为列出路径中，路径对应的文件（文件夹）存在的第一项。</li>
</ul>
<p>修改以后，只是访问的路径变化，<strong>并不会在地址栏有所体现</strong>。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">example1.com &#123;</span><br><span class="line">    rewrite * /foo.html             <span class="comment"># 将所有路径修改为 foo.html</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">example2.com &#123;</span><br><span class="line">    uri replace / /proxy 1          <span class="comment"># 将第一个 / 修改为 /proxy，即在链接前添加一个 /proxy</span></span><br><span class="line">    reverse_proxy localhost:9000    <span class="comment"># example2.com/ =&gt; localhost:9000/proxy</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">example2.com &#123;</span><br><span class="line">    route /api/* &#123;</span><br><span class="line">        uri strip_prefix /api</span><br><span class="line">        reverse_proxy localhost:9000</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">example3.com &#123;</span><br><span class="line">    try_files &#123;path&#125; /index.php <span class="comment"># 如果 &#123;path&#125; 存在，访问 &#123;path&#125;；否则访问 index.php</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="占位符-placeholders"><a href="#占位符-placeholders" class="headerlink" title="占位符 placeholders"></a>占位符 placeholders</h3><p>上文的 <code>{uri}</code> 即是一种占位符。更多的占位符可见：<a href="https://caddyserver.com/docs/caddyfile/concepts#placeholders" target="_blank" rel="noopener">https://caddyserver.com/docs/caddyfile/concepts#placeholders</a></p>
<h3 id="匹配串-matchers"><a href="#匹配串-matchers" class="headerlink" title="匹配串 matchers"></a>匹配串 matchers</h3><p>配置文件中一个很重要的部分是匹配串（matchers）如 <code>/</code> <code>/proxy</code>。在 <a href="https://caddyserver.com/docs/caddyfile/matchers" target="_blank" rel="noopener">https://caddyserver.com/docs/caddyfile/matchers</a> 做了详细介绍。</p>
<h2 id="泛域名-HTTPS"><a href="#泛域名-HTTPS" class="headerlink" title="泛域名 HTTPS?"></a>泛域名 HTTPS?</h2><p>当然，以上域名只做到了单域名 HTTPS，对于泛域名解析 HTTPS 则会麻烦得多。这是由于在 Let’s Encrypt，单域名 HTTPS 证书可以使用 HTTP 验证（在网站对应的指定路径放一个指定的 HTML），而泛域名 （如<code>*.example.com</code> HTTPS 证书则需要使用 DNS 验证（在指定的域名下放一个 DNS 解析）。前者交给 Caddy 做非常方便，而后者就不那么方便了。</p>
<p>对于该问题，有以下解决办法：</p>
<ol>
<li><p>Caddy 2 的确可以通过插件调用各 DNS 提供商的 API 来实现修改 DNS，但是 Caddy 2 <a href="https://github.com/caddy-dns" target="_blank" rel="noopener">官方的插件</a>只有很少，像国内阿里云、腾讯云都没有开发。貌似可以在阿里云将域名的 DNS 解析服务器改为 CloudFlare 的，然后利用 CloudFlare API 实现，但是这里我没有深入研究。</p>
</li>
<li><p>相比于 Caddy 2，<a href="https://caddyserver.com/v1/download" target="_blank" rel="noopener">Caddy 1</a> 就提供了不少插件（但仍然没有阿里云）。如有需求可改为 Caddy 1。</p>
</li>
<li><p>使用 <a href="https://caddyserver.com/docs/automatic-https#on-demand-tls" target="_blank" rel="noopener">On-Demand TLS</a> 技术。这是 Caddy 研发的一种技术。</p>
</li>
</ol>
<p>在第一次 TLS 握手时，如果发现本地没有 HTTPS 证书或已过期以后，就立刻向 Let’s Encrypt 申请证书，成功后保存该证书，并完成此次握手；此后如果发现存在 HTTPS 证书且有效，就会使用该证书完成握手。</p>
<p>该方法的优点非常明显，就是可以用对访问到的每个域名申请 HTTPS 证书的方法，代替 DNS 验证。缺点也很明显，由于 HTTPS 证书申请需要时间，再加上国内网络问题，在首次访问某域名时，需要等待 10-40 秒不等供 Caddy 服务器申请证书。</p>
<p>我最终采用了这种方式，因为使用泛域名解析只是为了跳转到主域名上，实际上没有几个人会访问这些域名的。</p>
<p>On-Demand TLS 语法如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*.example.<span class="keyword">com</span> &#123;</span><br><span class="line">    tls &#123;</span><br><span class="line">        on_demand</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">redir</span> http<span class="variable">s:</span>//example.<span class="keyword">com</span>&#123;uri&#125; permanent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>最后一种无奈之举，就是不使用 HTTPS。如果该域名只是做一个 <code>redir</code>，其实不使用 HTTP 也还可以接受。</li>
</ol>
<p>Caddy 不使用 HTTPS 的语法是，在域名后指定 <code>80</code> 端口。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*.example.<span class="keyword">com</span>:<span class="number">80</span> &#123;</span><br><span class="line">    <span class="keyword">redir</span> http<span class="variable">s:</span>//example.<span class="keyword">com</span>&#123;uri&#125; permanent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2021-09-11T12:19:35.123Z" itemprop="dateUpdated">2021-09-11 20:19:35</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="https://blog.lyh543.cn">
            <img src="/img/avatar.png" alt="lyh543">
            lyh543
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Caddy/" rel="tag">Caddy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/" rel="tag">编程语言入门</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.lyh543.cn/linux/caddy/&title=《Caddy 2》 — 小灰灰灰灰的博客&pic=https://blog.lyh543.cn/img/avatar.png" data-title="微博">
          <i class="icon mdi mdi-sina-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.lyh543.cn/linux/caddy/&title=《Caddy 2》 — 小灰灰灰灰的博客&source=" data-title=" QQ">
          <i class="icon mdi mdi-qqchat"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.lyh543.cn/linux/caddy/" data-title=" Facebook">
          <i class="icon mdi mdi-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Caddy 2》 — 小灰灰灰灰的博客&url=https://blog.lyh543.cn/linux/caddy/&via=https://blog.lyh543.cn" data-title=" Twitter">
          <i class="icon mdi mdi-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.lyh543.cn/linux/caddy/" data-title=" Google+">
          <i class="icon mdi mdi-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-lg mdi mdi-share-variant"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/python/scrapy/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon mdi mdi-chevron-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Python 爬虫 —— Scrapy</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/computer-science/misunderstanding-on-dsl/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-lg icon-pl mdi mdi-chevron-right"></i></div>
        <h4 class="title">DSL 的误解（转载）</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'ec7daa4e047c3c30570d',
          clientSecret: '025a9e40a1d101f28fd1a945d286a819e9fa1c3d',
          repo: 'lyh543.github.io',
          owner: 'lyh543',
          admin: ['lyh543'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg mdi mdi-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>lyh543 &copy; 2019 - 2021</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">蜀ICP备19034464号</a><br>
                
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg mdi mdi-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://blog.lyh543.cn/linux/caddy/&title=《Caddy 2》 — 小灰灰灰灰的博客&pic=https://blog.lyh543.cn/img/avatar.png" data-title="微博">
          <i class="icon mdi mdi-sina-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://blog.lyh543.cn/linux/caddy/&title=《Caddy 2》 — 小灰灰灰灰的博客&source=" data-title=" QQ">
          <i class="icon mdi mdi-qqchat"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.lyh543.cn/linux/caddy/" data-title=" Facebook">
          <i class="icon mdi mdi-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Caddy 2》 — 小灰灰灰灰的博客&url=https://blog.lyh543.cn/linux/caddy/&via=https://blog.lyh543.cn" data-title=" Twitter">
          <i class="icon mdi mdi-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://blog.lyh543.cn/linux/caddy/" data-title=" Google+">
          <i class="icon mdi mdi-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABxElEQVR42u3aQY7DIAwF0N7/0pntSFOSbxNINHqsqiaFRxcW2P584nH8Gn+/P38nn+22gYuLO809Tsf8OzNPv2wJFxd3I3cUMUbvJMtXg+C5ARcX9/3cc1Z1A7i4uP+Dm1xg8qe4uLjv5OZhKF9sNH8eBHFxcZ/i5lnKdZ+X5HdxcXFb3KM48g30UioXq+Pi4m7h5gGlt4E8aVIox+Li4i7m5teS+eJK9Qg1/F9xcXG3cHttWEnio0BJkiO4uLgbufliPWgv9fklaOLi4m7hJmWS3qGkGs6SDePi4u7k5peZ+cPQfHDExcVdza02Ts2wqi0dw4QpLi7uo9y8mNpDlOfExcV9iJsvXIX2yq4XgQwXF3cBN/lZ9Qp0PsNFsiP4y3Bxcfdz51OoM4nR6NKFi4v7KDfZRh6YqgHuosiKi4u7nZsHrPw6lK9y8Q4uLu5i7lEcM0XWG9q2cHFxt3DzkSQ+qoFp/vCEi4u7jpsEr+oBqHroKaRocXFxN3KrjRfJ1DOJ1+E3uLi4r+f2LjPVK9ZtgQwXF3cxt9eiUT0w3RbIcHFxW9xqc1Wv8SIv50RFVlxc3GXcmWRHr8VqRWkWFxf3Ju4PELyaeZOXRIoAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>










</body>
</html>
