(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{514:function(t,s,a){"use strict";a.r(s);var n=a(3),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("参考博客: http://www.usidcbbs.com/read-htm-tid-1898.html")])]),t._v(" "),a("p",[t._v("C++ 的 "),a("code",[t._v("iostream")]),t._v(" 输入输出流很好用，而它也有两个兄弟："),a("code",[t._v("fstream")]),t._v(" 和 "),a("code",[t._v("sstream")]),t._v(" （或 "),a("code",[t._v("stringstream")]),t._v("），三个的用法差不多，能够触类旁通，就很舒服。本文就介绍一下 "),a("code",[t._v("stringstream")]),t._v(" 和 "),a("code",[t._v("iostream")]),t._v(" 的相同和不同的地方。")]),t._v(" "),a("h2",{attrs:{id:"iostream-和-stringstream-的继承关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iostream-和-stringstream-的继承关系"}},[t._v("#")]),t._v(" iostream 和 stringstream 的继承关系")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.pconline.com.cn/pcedu/empolder/gj/c/0504/pic/08cppios01.gif",alt:"iostream 和 stringstream"}})]),t._v(" "),a("h2",{attrs:{id:"引入头文件和定义变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入头文件和定义变量"}},[t._v("#")]),t._v(" 引入头文件和定义变量")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("<sstream>")])]),t._v("\nstd"),a("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("istringstream istr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),a("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("ostringstream ostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),a("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("stringstream sstr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("其中，"),a("code",[t._v("istringstream")]),t._v(" 用于流的输入，"),a("code",[t._v("ostringstream")]),t._v(" 用于流的输出，"),a("code",[t._v("stringstream")]),t._v(" 用于流的输入输出。具体的区别在下面提到。")]),t._v(" "),a("h2",{attrs:{id:"istringstream-使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#istringstream-使用方法"}},[t._v("#")]),t._v(" istringstream 使用方法")]),t._v(" "),a("p",[a("code",[t._v("cin")]),t._v(" 是从控制台读取数字、字符串，而 "),a("code",[t._v("istringstream")]),t._v(" 就是从指定的字符串中读取数字、字符串。")]),t._v(" "),a("p",[t._v("首先指定 "),a("code",[t._v("istringstream")]),t._v(" 读取的源字符串。下两种形式是等价的：")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("istringstream istr1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nistr1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12 3.1415"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nistringstream "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("istr2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12 3.1415"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("然后用类似于 "),a("code",[t._v("cin")]),t._v(" 的语法就可以从该字符串读取数字等了。")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nistr1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//a==12, b==3.1415")]),t._v("\n")])])]),a("h2",{attrs:{id:"ostringstream-使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ostringstream-使用方法"}},[t._v("#")]),t._v(" ostringstream 使用方法")]),t._v(" "),a("p",[a("code",[t._v("cout")]),t._v(" 是把内容往屏幕上输出，而 "),a("code",[t._v("ostringstream")]),t._v(" 就是把内容往字符串输出。")]),t._v(" "),a("p",[a("code",[t._v("ostringstream")]),t._v(" 是先读入数字等内容到该 "),a("code",[t._v("ostringstream")]),t._v("，然后获取该 "),a("code",[t._v("ostringstream")]),t._v(" 中存的字符串。")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("ostr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//a==12, b==3.1415")]),t._v("\n")])])]),a("p",[t._v("读取 "),a("code",[t._v("ostringstream")]),t._v(" 中的字符串需要使用成员函数 "),a("code",[t._v("str()")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("cout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" ostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v("endl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" ostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" endl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("成员函数 "),a("code",[t._v("str()")]),t._v(" 返回一个 "),a("code",[t._v("string")]),t._v("。搭配头文件 "),a("code",[t._v("string")]),t._v(" 就可以使用 "),a("code",[t._v("string")]),t._v(" 类的各种功能。"),a("br"),t._v("\n注意该函数也可以在 "),a("code",[t._v("istringstream")]),t._v(" 和 "),a("code",[t._v("stringstream")]),t._v(" 中使用，同样是获取流中存储的字符串。")]),t._v(" "),a("p",[t._v("ostringstream 同样可以赋初值，但是在进行输入的时候，输入的东西会先修改初值的对应部分，输出超过原长的那一部分才会追加到串的后面。")]),t._v(" "),a("div",{staticClass:"language-cpp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cpp"}},[a("code",[t._v("ostringstream "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ostr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" ostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" endl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nostr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" ostr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" endl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("上面这段代码输出：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dec\ndefg\n")])])]),a("h2",{attrs:{id:"stringstream-使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stringstream-使用方法"}},[t._v("#")]),t._v(" stringstream 使用方法")]),t._v(" "),a("p",[t._v("stringstream 就可以同时进行输入和输出了。（但是好像用的不多，故略）")])])}),[],!1,null,null,null);s.default=r.exports}}]);