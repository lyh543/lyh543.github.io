(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{549:function(t,e,o){"use strict";o.r(e);var r=o(3),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("p",[t._v("最近想学 Flutter，但是配环境的时候踩了一路坑。")]),t._v(" "),o("h2",{attrs:{id:"下载-flutter"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#下载-flutter"}},[t._v("#")]),t._v(" 下载 Flutter")]),t._v(" "),o("p",[t._v("可以在官网或者"),o("a",{attrs:{href:"https://flutter.cn/community/china",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像"),o("OutboundLink")],1),t._v("下载，也可以走包管理器。Windows 如果安装了 "),o("RouterLink",{attrs:{to:"/posts/2021-09-30-config-windows-with-chocolatey.html"}},[t._v("Chocolatey")]),t._v(" 可以直接 "),o("code",[t._v("choco install flutter")]),t._v("。不需要再单独安装 Dart。")],1),t._v(" "),o("p",[t._v("安装完以后可以按照上面的链接，配置一下镜像。")]),t._v(" "),o("h2",{attrs:{id:"运行-flutter-doctor"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#运行-flutter-doctor"}},[t._v("#")]),t._v(" 运行 flutter doctor")]),t._v(" "),o("p",[o("code",[t._v("flutter doctor")]),t._v(" 是个好东西，会给出需要安装的东西的列表。这里是我安装完的结果。")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("Doctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, 2.10.3, on Microsoft Windows [Version 10.0.22000.593], locale zh-CN)\n[✓] Android toolchain - develop for Android devices (Android SDK version 32.1.0-rc1)\n[✓] Chrome - develop for the web\n[✓] Visual Studio - develop for Windows (Visual Studio Community 2022 17.1.3)\n[!] Android Studio (not installed)\n[✓] IntelliJ IDEA Ultimate Edition (version 2021.3)\n[✓] VS Code, 64-bit edition (version 1.66.0)\n[✓] Proxy Configuration\n[✓] Connected device (3 available)\n[✓] HTTP Host Availability\n\n! Doctor found issues in 1 category.\n")])])]),o("h2",{attrs:{id:"安装-idea-ultimate-或-android-studio"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#安装-idea-ultimate-或-android-studio"}},[t._v("#")]),t._v(" 安装 IDEA Ultimate 或 Android Studio")]),t._v(" "),o("p",[t._v("IDEA Ultimate 是 Android Studio 的超集（注意 IDEA Comuunity 不是），如果有正版并且装了 IDEA 就不用再装一个 Android Studio。")]),t._v(" "),o("p",[t._v("IDEA Ultimate 需要安装 Flutter 和 Dart 的插件，Android 插件是自带的，不用安装。")]),t._v(" "),o("h2",{attrs:{id:"在-idea-ultimate-或-android-studio-中安装-android-sdk"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#在-idea-ultimate-或-android-studio-中安装-android-sdk"}},[t._v("#")]),t._v(" 在 IDEA Ultimate 或 Android Studio 中安装 Android SDK")]),t._v(" "),o("p",[t._v("需要从新建项目里面找到 Android，这里就会提示安装 Android SDK。一路选过去就好，这里没什么需要注意的。")]),t._v(" "),o("p",[t._v("需要注意的是，需要在设置 - Android SDK 里面安装 Android SDK Command-line Tools，不然 "),o("code",[t._v("flutter doctor")]),t._v(" 会提示 "),o("code",[t._v("Android Toolchain not found")]),t._v("。")]),t._v(" "),o("p",[o("img",{attrs:{src:"/images/7479eeeed828d9be4beb497e795084b6a49fc2b18ef89df6ccde1bac829dfe28.png",alt:"安装 Android SDK Command-line Tools"}})]),t._v(" "),o("h2",{attrs:{id:"安装-visual-studio-community"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#安装-visual-studio-community"}},[t._v("#")]),t._v(" 安装 Visual Studio Community")]),t._v(" "),o("p",[t._v("如果准备开发 Windows 的话，需要用到 MSVC 的工具链，所以下一个 Visual Studio Community，选择 "),o("code",[t._v("使用 C++ 的桌面开发")]),t._v("，右边的可选功能保持默认就够了。")]),t._v(" "),o("p",[o("img",{attrs:{src:"/images/722c36d28718b45bb95edb21abfa7a9497b382df00da3f5d58750535666be30d.png",alt:"安装 Visual Studio Community - C++"}})]),t._v(" "),o("h2",{attrs:{id:"设置-no-proxy"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#设置-no-proxy"}},[t._v("#")]),t._v(" 设置 NO_PROXY")]),t._v(" "),o("p",[t._v("如果有设置 "),o("code",[t._v("HTTP_PROXY")]),t._v(" 和 "),o("code",[t._v("HTTPS_PROXY")]),t._v("，记得同时设置 "),o("code",[t._v("NO_PROXY")]),t._v(" 为 "),o("code",[t._v("localhost,127.0.0.1, ::1")]),t._v("，不然可能本地开发的时候完全连不上其他设备/浏览器/模拟器。如果你也遇到了下面这个 Issue，记得检查有没有设置 "),o("code",[t._v("NO_PROXY")]),t._v("。")]),t._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/flutter/flutter/issues/96942",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebSocketException: Connection to 'http://127.0.0.1:xxxxx/=xxxxxx/#' was not upgraded to websocket · Issue #96942 · flutter/flutter"),o("OutboundLink")],1)]),t._v(" "),o("h2",{attrs:{id:"重启"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#重启"}},[t._v("#")]),t._v(" 重启！")]),t._v(" "),o("p",[t._v("2022 年了，大部分软件安装以后说是要重启，其实不需要重启。但是 Flutter 似乎是个例外。")]),t._v(" "),o("p",[t._v("我按照官方教程配好环境以后，直接报错："),o("a",{attrs:{href:"https://github.com/flutter/flutter/issues/54525",target:"_blank",rel:"noopener noreferrer"}},[t._v("[web] FormatException: Unexpected end of input (at character 1) · Issue #54525 · flutter/flutter"),o("OutboundLink")],1),t._v("。")]),t._v(" "),o("p",[t._v("上 GitHub 溜达一圈，有人提到重启以后就没了，我也试着重启了一下，果然就好了 = =")]),t._v(" "),o("h2",{attrs:{id:"设置镜像"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#设置镜像"}},[t._v("#")]),t._v(" 设置镜像")]),t._v(" "),o("p",[t._v("Flutter 居然有半官方、半社区的开发者网站，以及还有镜像。没有梯子，或者想节约流量的同学可以配一个。"),o("a",{attrs:{href:"https://flutter.cn/community/china",target:"_blank",rel:"noopener noreferrer"}},[t._v("在中国网络环境下使用 Flutter | Flutter 中文文档 | Flutter 中文开发者网站"),o("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);