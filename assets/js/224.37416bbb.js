(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{626:function(t,e,r){"use strict";r.r(e);var a=r(3),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"准备工作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),r("h3",{attrs:{id:"手机选择"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#手机选择"}},[t._v("#")]),t._v(" 手机选择")]),t._v(" "),r("p",[t._v("如果是为了刷原生而买手机，买一加，或者小米吧。这两个适配的很快（还是用户群体比较给力），一加 8T 在发布后一个半月后就有了官方 Pixel Experience，而一年前的小米 10 现在还只有 Unofficial PE。")]),t._v(" "),r("p",[t._v("一定要买膏通削龙的 SoC，联发科和麒麟目前暂时别想用原生了。")]),t._v(" "),r("h3",{attrs:{id:"rom-选择"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rom-选择"}},[t._v("#")]),t._v(" ROM 选择")]),t._v(" "),r("p",[t._v("有条件还是搞个梯子，不然 ROM 很难下的。")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://download.lineageos.org/polaris",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lineage OS"),r("OutboundLink")],1),t._v("，不过似乎已经很久没有适配新机型了")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://download.pixelexperience.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pixel Experience"),r("OutboundLink")],1),t._v("，自带 Gapps，主推（当然前提是你有梯子并且想用 Google Play 服务）。")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://crdroid.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CRDroid"),r("OutboundLink")],1),t._v("，没用过、")]),t._v(" "),r("li",[t._v("ArrowOS")])]),t._v(" "),r("h3",{attrs:{id:"recovery-选择"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#recovery-选择"}},[t._v("#")]),t._v(" Recovery 选择")]),t._v(" "),r("p",[t._v("无脑选 "),r("a",{attrs:{href:"https://twrp.me/Devices/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TWRP"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("h3",{attrs:{id:"root-选择"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#root-选择"}},[t._v("#")]),t._v(" Root 选择")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/topjohnwu/Magisk/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Magisk"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("在 Magisk v22 搞了一个 MAGIC™🌈 操作，把 Manager 和 zip 包集成到一个 apk 里了，卡刷前把 apk 改为 zip 即可刷入。")]),t._v(" "),r("p",[t._v("推荐 Magisk 模块：")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/eritpchy/Fingerprint-pay-magisk-alipay",target:"_blank",rel:"noopener noreferrer"}},[t._v("支付宝指纹支付"),r("OutboundLink")],1),t._v("，如果类原生导致支付宝不让指纹支付的，可以用这个。同样还有"),r("a",{attrs:{href:"https://github.com/eritpchy/Fingerprint-pay-magisk-wechat",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信"),r("OutboundLink")],1),t._v("、"),r("a",{attrs:{href:"https://github.com/eritpchy/Fingerprint-pay-magisk-qq",target:"_blank",rel:"noopener noreferrer"}},[t._v("QQ"),r("OutboundLink")],1),t._v("、"),r("a",{attrs:{href:"https://github.com/eritpchy/Fingerprint-pay-magisk-taobao",target:"_blank",rel:"noopener noreferrer"}},[t._v("淘宝"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/Magisk-Modules-Repo/HideNavBar",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fullscreen/Immersive Gesture"),r("OutboundLink")],1),t._v(" 用于屏蔽导航栏，推荐配置："),r("code",[t._v("Immersive (Without the Pill + Default Keyboard Spacing)")])]),t._v(" "),r("li",[r("a",{attrs:{href:"http://www.coolapk.com/u/780429",target:"_blank",rel:"noopener noreferrer"}},[t._v("酷安@小老弟咋肥四"),r("OutboundLink")],1),t._v(" 的字体包，个人用的是小米兰亭5字重90%缩小版")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/LSPosed/LSPosed",target:"_blank",rel:"noopener noreferrer"}},[t._v("LSPosed"),r("OutboundLink")],1),t._v(" 以及依赖的 "),r("a",{attrs:{href:"https://github.com/RikkaApps/Riru",target:"_blank",rel:"noopener noreferrer"}},[t._v("Riru"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"xposed-选择"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#xposed-选择"}},[t._v("#")]),t._v(" Xposed 选择")]),t._v(" "),r("p",[t._v("现在 LSPosed 还不错，能只对指定应用生效，还可以不重启。")]),t._v(" "),r("p",[t._v("推荐 Xposed 模块：")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://repo.xposed.info/module/com.fkzhang.wechatxposed",target:"_blank",rel:"noopener noreferrer"}},[t._v("微X模块"),r("OutboundLink")],1),t._v("，微信防撤回等（QX 模块导致封 QQ 有点厉害，暂时不用了）")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.coolapk.com/apk/com.github.tianma8023.xposed.smscode",target:"_blank",rel:"noopener noreferrer"}},[t._v("验证码提取器"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.coolapk.com/apk/com.wpengapp.lightstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("轻启动"),r("OutboundLink")],1),t._v("，自动跳过广告")])]),t._v(" "),r("h3",{attrs:{id:"数据备份"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数据备份"}},[t._v("#")]),t._v(" 数据备份")]),t._v(" "),r("p",[t._v("敢玩原生的，应该对重要数据应该一直都有数据备份吧。")]),t._v(" "),r("p",[t._v("需要备份的：")]),t._v(" "),r("ul",[r("li",[t._v("联系人（使用 "),r("a",{attrs:{href:"https://forum.xda-developers.com/t/app-root-5-0-1st-nov-2020-migrate-custom-rom-migration-tool.3862763/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Migrate"),r("OutboundLink")],1),t._v("，或者手动导出为 vcf）")]),t._v(" "),r("li",[t._v("图片视频（安利 Syncthing，可以自动和电脑双向同步文件夹，并且可以 p2p 内网穿透）")]),t._v(" "),r("li",[t._v("200 个 apps（使用 "),r("a",{attrs:{href:"https://forum.xda-developers.com/t/app-root-5-0-1st-nov-2020-migrate-custom-rom-migration-tool.3862763/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Migrate"),r("OutboundLink")],1),t._v(" 或者钛备份专业版备份 apk + 数据，不过需要旧手机拿到 root；备份前推荐清理一下缓存，减少备份大小）")]),t._v(" "),r("li",[t._v("Authenticator 的 2FA 需要重置。重置策略依 app 不同，有些只需要密码，有些需要 Recovery Codes（当然，最好在第一次扫码的时候把二维码和 Recovery Codes 保存在一起，系统更新以后再对着二维码扫一遍就能接着用了）")]),t._v(" "),r("li",[t._v("xykey（密码本子，无联网权限，只能导出文件进行备份）")]),t._v(" "),r("li",[t._v("Nova Launcher 的布局（导出一个 .novabackup）")]),t._v(" "),r("li",[t._v("WiFi 密码，后面会细说")])]),t._v(" "),r("h2",{attrs:{id:"开干"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开干"}},[t._v("#")]),t._v(" 开干！")]),t._v(" "),r("h3",{attrs:{id:"adb-安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#adb-安装"}},[t._v("#")]),t._v(" adb 安装")]),t._v(" "),r("p",[t._v("用 Chocolatey 蛮方便的。安利我的这篇博客："),r("a",{attrs:{href:"posts/microsoft/windows/config-windows-with-chocolatey"}},[t._v("使用 Chocolatey 配置 Windows")])]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("choco install adb\n")])])]),r("h3",{attrs:{id:"驱动安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#驱动安装"}},[t._v("#")]),t._v(" 驱动安装")]),t._v(" "),r("p",[t._v("如果不安装驱动，adb 或 fastboot 可能识别不到手机。注意 adb 和 fastboot 的驱动是两种驱动，adb 能工作不代表 fastboot 能工作。")]),t._v(" "),r("p",[t._v("驱动下载："),r("a",{attrs:{href:"https://developer.android.com/studio/run/oem-usb#Drivers",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装原始设备制造商 (OEM) USB 驱动程序 | Android 开发者 | Android Developers"),r("OutboundLink")],1),t._v(" 最下面有各个厂商的驱动。")]),t._v(" "),r("h3",{attrs:{id:"adb-fastboot-命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#adb-fastboot-命令"}},[t._v("#")]),t._v(" adb fastboot 命令")]),t._v(" "),r("p",[t._v("进入 fastboot 状态后")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("fastboot devices\nfastboot flash recovery <twrp.img>\nfastboot reboot\n")])])]),r("p",[t._v("我的小米 Mix 2s 一刷就报错，换电脑换线都没用，很奇怪。后来发现一个解决方法：")]),t._v(" "),r("ol",[r("li",[t._v("手机进入 fastboot 不连接电脑")]),t._v(" "),r("li",[t._v("电脑 "),r("code",[t._v("fastboot flash recovery twrp.img")]),t._v("，卡在 "),r("code",[t._v("<waiting for any devices>")])]),t._v(" "),r("li",[t._v("手机连接电脑，连接以后就会自动刷入，不会报错")])]),t._v(" "),r("h2",{attrs:{id:"进入-recovery"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#进入-recovery"}},[t._v("#")]),t._v(" 进入 recovery")]),t._v(" "),r("p",[t._v("图形界面，比较好操作，但是由于系统等原因可能还是会比较复杂。可能会有以下一些操作：")]),t._v(" "),r("ul",[r("li",[t._v("格式化 "),r("code",[t._v("/data")]),t._v("：如果原分区有加密，twrp 显示无法挂载 "),r("code",[t._v("/data")]),t._v("，就需要格式化 "),r("code",[t._v("/data")]),t._v("（注意，这不等于清除 "),r("code",[t._v("/data")]),t._v("）。")]),t._v(" "),r("li",[t._v("Pixel Experience 等类原生会对 "),r("code",[t._v("/data")]),t._v(" 加密，密码为开机密码。在 TWRP 3.5 以上输入密码即可解密，而 TWRP 3.4 是不支持解密的，故尽量使用 3.5 以上的 TWRP")])]),t._v(" "),r("h2",{attrs:{id:"用-adb-批量安装-apps"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用-adb-批量安装-apps"}},[t._v("#")]),t._v(" 用 adb 批量安装 apps")]),t._v(" "),r("p",[t._v("200+ 个 apk 安装起来可不是说着玩的。由于 apk 全部备份在电脑，可以直接走 adb 安装：")]),t._v(" "),r("p",[t._v("cmd 方法：")]),t._v(" "),r("div",{staticClass:"language-bat extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v(':: 在 App 同目录下执行\nadb devices\nfor /f "delims=" %i in (\'dir /b /a-d /s .\') do adb install "%%~nxi"\n')])])]),r("p",[t._v("shell 方法：")]),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在 App 同目录下执行")]),t._v("\nadb devices\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("f")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" *"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" adb "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),r("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$f")]),t._v('"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])])]),r("p",[t._v("注意 Android 的 Termux 也是 shell，所以可以在旧手机的 Termux 上安装 "),r("code",[t._v("android-tools")]),t._v(" 后，通过 adb 网络连接到新手机，然后跑命令；甚至把安装包下载到用新手机可以 "),r("code",[t._v("adb connect localhost")])]),t._v(" "),r("h2",{attrs:{id:"wifi-密码备份、恢复"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#wifi-密码备份、恢复"}},[t._v("#")]),t._v(" Wifi 密码备份、恢复")]),t._v(" "),r("p",[t._v("这里只讨论通过 config 文件对 Wifi 密码进行备份、恢复。Google 账户似乎有同步功能，但我的没法用。")]),t._v(" "),r("p",[t._v("Wifi 密码的存储路径，几个安卓版本都稍有区别。据不完全统计，Android 不同版本的 Wifi 存储路径如下表。")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[t._v("Android 版本")]),t._v(" "),r("th",{staticStyle:{"text-align":"left"}},[t._v("存储路径")])])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("Android 7.1 (N)")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("code",[t._v("/data/misc/wifi/wpa_supplicant.conf")])])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("Android 9   (P)")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("code",[t._v("/data/misc/wifi/WifiConfigStore.xml")])])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[t._v("Android 11  (R)")]),t._v(" "),r("td",{staticStyle:{"text-align":"left"}},[r("code",[t._v("/data/misc/apexdata/com.android.wifi/WifiConfiStore.xml")])])])])]),t._v(" "),r("p",[t._v("不同系统还可能有差别，具体以你的系统为准。")]),t._v(" "),r("p",[t._v("其中 "),r("code",[t._v("wpa_supplicant.conf")]),t._v(" 到 "),r("code",[t._v("WifiConfigStore.xml")]),t._v(" 需要转换，可参考万能的 "),r("a",{attrs:{href:"https://github.com/mnalis/android-wifi-upgrade",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("p",[t._v("密码的备份无非就是把文件复制出来，而恢复就会稍微麻烦一点了，如果直接覆盖后重启，会发现文件又被改回去了。")]),t._v(" "),r("p",[t._v("万能的 "),r("a",{attrs:{href:"https://github.com/mnalis/android-wifi-upgrade",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),r("OutboundLink")],1),t._v(" 也给出了方案，以下是中文描述：")]),t._v(" "),r("ol",[r("li",[t._v("关闭 Wifi")]),t._v(" "),r("li",[t._v("将 "),r("code",[t._v("WifiConfigStore.xml")]),t._v(" 复制并覆盖对应文件")]),t._v(" "),r("li",[t._v("修改 "),r("code",[t._v("WifiConfigStore.xml")]),t._v(" 的权限为 "),r("code",[t._v("600")]),t._v("，owner 为 "),r("code",[t._v("system:system")])]),t._v(" "),r("li",[t._v("删除 "),r("code",[t._v("/data/misc/wifi/WifiConfigStore.xml.encrypted-checksum")]),t._v("（我的 Android 11 并没有这个文件，于是跳过）")]),t._v(" "),r("li",[t._v("重启，重启后可以看到连过的 Wifi 都回来啦")]),t._v(" "),r("li",[t._v("开启 Wifi")])]),t._v(" "),r("h2",{attrs:{id:"原生管理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原生管理"}},[t._v("#")]),t._v(" 原生管理")]),t._v(" "),r("p",[t._v("原生确实流畅，不过上了原生就得自己控制国内 app 自启了。常用工具有：")]),t._v(" "),r("ul",[r("li",[t._v("冰箱（需 root，也可以用空调狗代替）")]),t._v(" "),r("li",[t._v("黑阈（每次开机需要连电脑 adb，也可以用 root 替代 adb）")]),t._v(" "),r("li",[t._v("绿色守护（需 root）")])]),t._v(" "),r("h2",{attrs:{id:"国内-os-工具的替代"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#国内-os-工具的替代"}},[t._v("#")]),t._v(" 国内 OS 工具的替代")]),t._v(" "),r("ul",[r("li",[t._v("计算器--"),r("a",{attrs:{href:"http://www.coolapk.com/apk/com.miui.calculator",target:"_blank",rel:"noopener noreferrer"}},[t._v("小米计算器"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("日历--Gmail 也有节假日，但是没有农历。觉得不好用的可以试试"),r("a",{attrs:{href:"http://www.coolapk.com/apk/com.ruanmei.yunrili",target:"_blank",rel:"noopener noreferrer"}},[t._v("软媒的云日历"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("相册--（付费）"),r("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.simplemobiletools.gallery",target:"_blank",rel:"noopener noreferrer"}},[t._v("简易图库 - 图片管理 & 编辑"),r("OutboundLink")],1),t._v("（Google 相册不支持长图，对文件夹支持也不好）")]),t._v(" "),r("li",[t._v("备份--Syncthing，跨平台同步文件夹的开源 app，p2p 连接，能够把文件在电脑、手机端双向同步，"),r("a",{attrs:{href:"https://syncthing.net/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),r("OutboundLink")],1),t._v("或 "),r("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.nutomic.syncthingandroid",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Play"),r("OutboundLink")],1),t._v(" 下载")]),t._v(" "),r("li",[t._v("文件管理器--（付费，不过没安装 Google Play 能白嫖）"),r("a",{attrs:{href:"http://www.coolapk.com/apk/pl.solidexplorer2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Solid Explorer"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("桌面--（高级版付费）"),r("a",{attrs:{href:"http://www.coolapk.com/apk/com.teslacoilsw.launcher",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nova Launcher"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("录音机-- Google 官方出辣 "),r("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.recorder",target:"_blank",rel:"noopener noreferrer"}},[t._v("录音机"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("便签--（免费版够用）"),r("a",{attrs:{href:"https://www.coolapk.com/apk/xyz.hanks.note",target:"_blank",rel:"noopener noreferrer"}},[t._v("便签"),r("OutboundLink")],1),t._v(" 支持 Webdav 备份和 Markdown")])])])}),[],!1,null,null,null);e.default=o.exports}}]);