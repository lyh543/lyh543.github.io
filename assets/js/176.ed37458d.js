(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{577:function(s,t,a){"use strict";a.r(t);var e=a(3),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"帮助文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帮助文档"}},[s._v("#")]),s._v(" 帮助文档")]),s._v(" "),a("p",[s._v("长的帮助： "),a("code",[s._v("man <command>")])]),s._v(" "),a("p",[s._v("短的帮助： "),a("code",[s._v("tldr <command>")])]),s._v(" "),a("p",[s._v("有了 "),a("code",[s._v("tldr")]),s._v(" 以后，很多教程都可以删掉了。")]),s._v(" "),a("h2",{attrs:{id:"更换镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更换镜像源"}},[s._v("#")]),s._v(" 更换镜像源")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("源")]),s._v(" "),a("th",[s._v("镜像")]),s._v(" "),a("th",[s._v("命令")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("apt(ubuntu20)")]),s._v(" "),a("td",[s._v("腾讯")]),s._v(" "),a("td",[a("code",[s._v("sudo wget -O /etc/apt/sources.list http://mirrors.cloud.tencent.com/repo/ubuntu20_sources.list")])])]),s._v(" "),a("tr",[a("td",[s._v("pip")]),s._v(" "),a("td",[s._v("豆瓣")]),s._v(" "),a("td",[a("code",[s._v("pip3 config set global.index-url http://pypi.doubanio.com/simple && pip3 config set global.trusted-host pypi.doubanio.com")])])]),s._v(" "),a("tr",[a("td",[s._v("npm & pnpm")]),s._v(" "),a("td",[s._v("淘宝")]),s._v(" "),a("td",[s._v("见下")])]),s._v(" "),a("tr",[a("td",[s._v("yarn")]),s._v(" "),a("td",[s._v("淘宝")]),s._v(" "),a("td",[s._v("见下")])]),s._v(" "),a("tr",[a("td",[s._v("docker")]),s._v(" "),a("td",[s._v("阿里云")]),s._v(" "),a("td",[a("code",[s._v("sudo wget -O /etc/docker/daemon.json https://blog.lyh543.cn/mirrors/docker.json")])])]),s._v(" "),a("tr",[a("td",[s._v("docker(windows)")]),s._v(" "),a("td",[s._v("阿里云")]),s._v(" "),a("td",[a("code",[s._v("iwr -O ~/.docker/daemon.json https://blog.lyh543.cn/mirrors/docker-desktop-windows.json")])])]),s._v(" "),a("tr",[a("td",[s._v("maven")]),s._v(" "),a("td",[s._v("阿里云")]),s._v(" "),a("td",[a("code",[s._v("wget -O ~/.m2/settings.xml https://blog.lyh543.cn/mirrors/maven.xml")])])]),s._v(" "),a("tr",[a("td",[s._v("tlmgr")]),s._v(" "),a("td",[s._v("科大")]),s._v(" "),a("td",[a("code",[s._v("tlmgr option repository http://mirrors.ustc.edu.cn/CTAN/systems/texlive/tlnet")])])]),s._v(" "),a("tr",[a("td",[s._v("GitHub")]),s._v(" "),a("td",[s._v("fastgit")]),s._v(" "),a("td",[a("code",[s._v('git config --global url."https://hub.fastgit.org/".insteadOf "https://github.com/"')])])])])]),s._v(" "),a("p",[s._v("npm & pnpm & yarn:")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置镜像源：https://www.npmjs.com/package/mirror-config-china")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g mirror-config-china --registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])])]),a("h2",{attrs:{id:"swap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swap"}},[s._v("#")]),s._v(" swap")]),s._v(" "),a("h3",{attrs:{id:"设置-swapfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-swapfile"}},[s._v("#")]),s._v(" 设置 swapfile")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /swap\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/zero "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/swap/swapfile "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4194304")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4194304 为 4GiB")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" /swap/swapfile\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkswap")]),s._v(" /swap/swapfile\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("swapon")]),s._v(" /swap/swapfile\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -m "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 验证成功")]),s._v("\n")])])]),a("p",[s._v("将下面一行追加到 "),a("code",[s._v("/etc/fstab")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/swap/swapfile                            swap swap defaults 0 0\n")])])]),a("h2",{attrs:{id:"文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[s._v("#")]),s._v(" 文件")]),s._v(" "),a("h3",{attrs:{id:"当前文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#当前文件夹"}},[s._v("#")]),s._v(" 当前文件夹")]),s._v(" "),a("p",[a("code",[s._v("pushd")]),s._v(" 和 "),a("code",[s._v("popd")]),s._v(" 起了 "),a("code",[s._v("cd")]),s._v(" 的作用，还能自动将当前目录压栈、出栈。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n~\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pushd")]),s._v(" /tmp\n/tmp ~\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n/tmp\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("popd")]),s._v("\n~\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n~\n")])])]),a("p",[a("code",[s._v("pwd")]),s._v(" 查看当前文件夹，"),a("code",[s._v("dirname $0")]),s._v(" 查看运行的脚本所在文件夹。配合 "),a("code",[s._v("$()")]),s._v(" 语法可以直接切换到当前目录：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" $0"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),a("h3",{attrs:{id:"查看文件-文件夹-磁盘的大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看文件-文件夹-磁盘的大小"}},[s._v("#")]),s._v(" 查看文件/文件夹/磁盘的大小")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("中文")]),s._v(" "),a("th",[s._v("英文")]),s._v(" "),a("th",[s._v("命令")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("查看磁盘大小")]),s._v(" "),a("td",[a("strong",[s._v("d")]),s._v("isplay "),a("strong",[s._v("f")]),s._v("ilesystem")]),s._v(" "),a("td",[a("code",[s._v("df -h")])])]),s._v(" "),a("tr",[a("td",[s._v("查看目录下的文件大小")]),s._v(" "),a("td",[a("strong",[s._v("l")]),s._v("i"),a("strong",[s._v("s")]),s._v("t")]),s._v(" "),a("td",[a("code",[s._v("ls -hs")])])]),s._v(" "),a("tr",[a("td",[s._v("查看目录下的文件夹的大小")]),s._v(" "),a("td",[a("strong",[s._v("d")]),s._v("isk "),a("strong",[s._v("u")]),s._v("sage")]),s._v(" "),a("td",[a("code",[s._v("du -h --max-depth=1")])])])])]),s._v(" "),a("p",[s._v("以上的 "),a("code",[s._v("-h")]),s._v(" 都是 "),a("code",[s._v("--human-readable")]),s._v("，不使用这个开关，则会使用一个数字表示大小（单位为 "),a("code",[s._v("KB")]),s._v("）；使用开关后，则会使用 "),a("code",[s._v("200K")]),s._v("，"),a("code",[s._v("1.8G")]),s._v(" 的形式。"),a("br"),s._v("\n注意 "),a("code",[s._v("du")]),s._v(" 如不加 "),a("code",[s._v("--max-depth")]),s._v(" 参数，会统计完所有的目录。")]),s._v(" "),a("h2",{attrs:{id:"进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[s._v("#")]),s._v(" 进程")]),s._v(" "),a("h3",{attrs:{id:"任务管理器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务管理器"}},[s._v("#")]),s._v(" 任务管理器")]),s._v(" "),a("p",[s._v("可以使用 "),a("code",[s._v("top")]),s._v(" 或 "),a("code",[s._v("htop")]),s._v("（后者对鼠标、颜色支持更好）。")]),s._v(" "),a("h3",{attrs:{id:"进程后台运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程后台运行"}},[s._v("#")]),s._v(" 进程后台运行")]),s._v(" "),a("h4",{attrs:{id:"使用-nohup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-nohup"}},[s._v("#")]),s._v(" 使用 nohup")]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("nohup")]),s._v(" 的话，一行代码就 ok：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nohup <command> & &>/dev/null")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ssserver "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null\n")])])]),a("p",[s._v("可能会看到 "),a("code",[s._v("ignore input")]),s._v(" 之类的警告，不用管，"),a("code",[s._v("Ctrl+C")]),s._v(" 退出前台即可，此时 "),a("code",[s._v("ssserver")]),s._v(" 正在后台运行。")]),s._v(" "),a("h4",{attrs:{id:"使用-pm2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-pm2"}},[s._v("#")]),s._v(" 使用 pm2")]),s._v(" "),a("p",[s._v("这个要麻烦一点，要从 "),a("code",[s._v("npm")]),s._v(" 下载，所以还得先下载 "),a("code",[s._v("npm")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pm2 -g\npm2 --name s1 -f start http-server "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置 pm2")]),s._v("\n\npm2 save "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选命令，作用是保存当前的 pm2 状态")]),s._v("\npm2 startup "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选命令，下次开机的时候可以恢复到 save 的状态")]),s._v("\n\npm2 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可选命令，列出当前 pm2 的任务")]),s._v("\n")])])]),a("h4",{attrs:{id:"使用-systemd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-systemd"}},[s._v("#")]),s._v(" 使用 systemd")]),s._v(" "),a("p",[s._v("也可以配置 systemd。以下是一个模板。")]),s._v(" "),a("div",{staticClass:"language-ini extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("Unit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("Frp Server Service")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("After")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("network.target")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("Service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("simple")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("lyh543")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("Restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("on-failure")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("5s")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("sudo /usr/bin/frps -c /etc/frp/frps.ini")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("Install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("multi-user.target")]),s._v("\n")])])]),a("p",[s._v("将其保存在 "),a("code",[s._v("/etc/systemd/system/xxx.service")]),s._v(" 后：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" /etc/systemd/system/xxx.service\nsystemctl start xxx\n")])])]),a("p",[s._v("即可。")]),s._v(" "),a("h3",{attrs:{id:"进程开机自启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程开机自启"}},[s._v("#")]),s._v(" 进程开机自启")]),s._v(" "),a("h4",{attrs:{id:"使用-etc-rc-local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-etc-rc-local"}},[s._v("#")]),s._v(" 使用 /etc/rc.local")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("sudo /etc/rc.local")]),s._v(" 最后追加命令，然后给权限 "),a("code",[s._v("sudo chmod a+x /etc/rc.local")]),s._v(" 即可。")]),s._v(" "),a("p",[s._v("不过貌似 "),a("code",[s._v("alias")]),s._v(" 语句无效，可能 "),a("code",[s._v("alias")]),s._v(" 是用户级的命令，需要用户登录时执行。")]),s._v(" "),a("h4",{attrs:{id:"使用-systemd-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-systemd-2"}},[s._v("#")]),s._v(" 使用 systemd")]),s._v(" "),a("h3",{attrs:{id:"任务定时运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务定时运行"}},[s._v("#")]),s._v(" 任务定时运行")]),s._v(" "),a("h4",{attrs:{id:"使用-crontab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-crontab"}},[s._v("#")]),s._v(" 使用 crontab")]),s._v(" "),a("p",[s._v("编辑本用户的 "),a("code",[s._v("crontab")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("crontab -e\n")])])]),a("p",[s._v("如果命令复杂的话，推荐写成一个脚本，然后输入以下内容：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 文件格式說明\n#  ——分鐘（0 - 59）\n# |  ——小時（0 - 23）\n# | |  ——日（1 - 31）\n# | | |  ——月（1 - 12）\n# | | | |  ——星期（0 - 7，星期日=0或7）\n# | | | | |\n# * * * * * 被執行的命令\n  0 * * * * cd /path/to/script/ && ./script.sh >>cron.log 2>&1\n")])])]),a("p",[s._v("上面就是每小时的 0 分 0 秒，cd 到指定目录，然后执行脚本，将标准输出重定向到目录下 "),a("code",[s._v("cron.log")]),s._v("，将错误输出重定向到和标准输出一起。")]),s._v(" "),a("h2",{attrs:{id:"用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),a("h3",{attrs:{id:"添加用户并给予-sudo-权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加用户并给予-sudo-权限"}},[s._v("#")]),s._v(" 添加用户并给予 sudo 权限")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("newuser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" --disabled-password  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁用密码，只允许 ssh 登录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("newuser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将用户加入 sudo 组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" -u "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("newuser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上号")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.ssh/authorized_keys "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ssh-rsa xx"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 ssh 公钥")]),s._v("\n")])])]),a("p",[s._v("然后上号 "),a("code",[s._v("sudo")]),s._v(" 检查一下是不是可以了。如果不行，可以试试在 "),a("code",[s._v("/etc/sudoers")]),s._v(" 里面修改 "),a("code",[s._v("%sudo")]),s._v(" 一行：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("%sudo   "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL:ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOPASSWD:ALL\n")])])]),a("h2",{attrs:{id:"ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" ssh")]),s._v(" "),a("p",[s._v("在使用 Git 和搭建服务器的时候都会用到 ssh，于是笔记也比较零散。")]),s._v(" "),a("p",[s._v("在这里丢几个链接：")]),s._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/posts/git/#在-Linux-下-git-使用-ssh-密钥"}},[s._v("创建 ssh 密钥并给 Git/服务器使用")])],1),s._v(" "),a("li",[a("RouterLink",{attrs:{to:"/posts/build-shadowsocks/#ssh-远程登录"}},[s._v("ssh 远程登录服务器")])],1),s._v(" "),a("li",[a("RouterLink",{attrs:{to:"/posts/change-ssh-port/"}},[s._v("修改 ssh 的端口")])],1),s._v(" "),a("li",[a("RouterLink",{attrs:{to:"/microsoft/windows/setup-ssh-windows/"}},[s._v("Windows 上使用 ssh")])],1)]),s._v(" "),a("h2",{attrs:{id:"log"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[s._v("#")]),s._v(" log")]),s._v(" "),a("h3",{attrs:{id:"查看-shell-启动过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-shell-启动过程"}},[s._v("#")]),s._v(" 查看 Shell 启动过程")]),s._v(" "),a("p",[s._v("可以用来追踪环境变量在哪里被修改。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PS4")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+$BASH_SOURCE> '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BASH_XTRACEFD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -xl "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("7")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# zsh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v(" -xl\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);