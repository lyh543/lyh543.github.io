(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{615:function(e,r,t){"use strict";t.r(r);var v=t(3),_=Object(v.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("前段时间买了国产的 Ryzen 7840H 迷你主机 24 小时开着当服务器，它的整机待机功耗也就 10-15W，比动辄 100W 的桌面端省电不少。但据说桌面端 CPU 也可以通过调节 BIOS 降低待机功耗，毕竟桌面端和移动端是同一个架构，只是出厂调节不一样。所以今天浅浅尝试了一下降低台式的功耗。")]),e._v(" "),r("p",[e._v("省流：通过调节 Curve Optimizer，低负载下 CPU 封装功耗从 65w 降到了 40w，整机功耗从 110w 降到了 85w，高负载下性能无变化。调节后仍然比低压 CPU 耗电很多。")]),e._v(" "),r("h2",{attrs:{id:"调节-cpu-频率、功耗的一些概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#调节-cpu-频率、功耗的一些概念"}},[e._v("#")]),e._v(" 调节 CPU 频率、功耗的一些概念")]),e._v(" "),r("p",[e._v("首先是 CPU 的基本概念：")]),e._v(" "),r("ul",[r("li",[e._v("TDP(Thermal Design Power, 热设计功耗)：是 CPU 的属性，不可修改，可以在 AMD / Intel 官网查到")])]),e._v(" "),r("p",[e._v("锐龙为了避免 CPU 电压、电流过高导致系统不稳定，设定了四个“墙”。这四个值可以在主板进行修改，实现超频或降频。")]),e._v(" "),r("ul",[r("li",[e._v("PTTL(Platform Thermal Throttle Limit, 平台热节流限制)：CPU 温度始终不能超过这个值，俗称温度墙")]),e._v(" "),r("li",[e._v("PPT(Power Package Tracking, 封装功耗追踪)：CPU 的功耗始终不能超过这个值，俗称功耗墙。默认值会比 CPU TDP 高一些，例如 3800X (TDP 105W) 的 PPT 默认为 142W。建议将其设置在适合自己散热系统的范围内。")]),e._v(" "),r("li",[e._v("EDC(Electric Design Current, 电设计电流)：CPU 瞬时电流不能超过这个值，俗称电流墙")]),e._v(" "),r("li",[e._v("TDC(Thermal Design Current, 热设计电流)：CPU 平均电流不能超过这个值")])]),e._v(" "),r("p",[e._v("不过，本文的目标是不影响高负载性能的前提下降低低负载功耗，调节上面四个值都会影响到高负载时的性能表现。")]),e._v(" "),r("ul",[r("li",[e._v("CO（Curve Optimizer，电压/频率曲线）：BIOS 中的 Curve Optimizer 可以帮助你为每个核心调整电压曲线。通过降低低负载时的电压和频率，可以有效降低待机功耗。\n"),r("ul",[r("li",[e._v("单位：Curve Optimizer 的调整单位是“步进”（steps），每个步进代表大约 3-5 mV 的电压变化。")]),e._v(" "),r("li",[e._v("范围：在大多数主板 BIOS 中，每个核心的调整范围通常为 -30 到 +30 之间。")])])])]),e._v(" "),r("p",[e._v("调节 CO 可以在主板中修改参数，建议修改完进行压测。后来发现 Ryzen Master 可以自动进行调节和压测，挂一个小时后推荐出一个最佳值，就不用自己手动调节了。")]),e._v(" "),r("p",[e._v("安装好 Ryzen Master 以后，在侧边栏选择 “Curve Optimizer”，选择“节能模式”，然后在曲线优化器控件中选择“全部核心”，点击开始优化。优化完成后，点击应用。")]),e._v(" "),r("p",[r("img",{attrs:{src:"/images/ryzen-master-change-curve-optimizer.png",alt:"Ryzen Master 调节 Curve Optimizer"}})]),e._v(" "),r("p",[e._v("跑完以后发现给出了 -30 的值。额，这不就是直接拉到最低吗，我上我也行。")]),e._v(" "),r("p",[e._v("跑完重启以后，通过 HWiNFO64 查看功耗，待机确实从 65w 降到了 40w，但是离移动端 CPU 还差很多。用 WSL 里装的 sysbench 跑了个分，性能和之前没有变化，说明这个调节确实不会影响到高负载下的 CPU 性能。")]),e._v(" "),r("p",[r("img",{attrs:{src:"/images/curve-optimizer-result-benchmark.png",alt:"Ryzen Master 调节结果"}})]),e._v(" "),r("h2",{attrs:{id:"其它元器件耗电"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#其它元器件耗电"}},[e._v("#")]),e._v(" 其它元器件耗电")]),e._v(" "),r("p",[e._v("调节完 Curve Optimizer 以后，CPU 功耗降低了一些，整机功耗也对应降低了，但仍然有 85w。这个时候就要考虑其它元器件的功耗了。")]),e._v(" "),r("p",[e._v("问了一下 ChatGPT，也参考了一下网上论坛的帖子。")]),e._v(" "),r("ul",[r("li",[e._v("主板：供电给芯片组、内存、存储设备、网络适配器等，通常消耗 20W 到 40W。没想到主板也这么耗电。看来桌面端的功耗确实没法跟移动端的比。")]),e._v(" "),r("li",[e._v("显卡：2060 待机功耗通常在 7W 到 15W 之间。这个可以在 HWiNFO64 中查看。")]),e._v(" "),r("li",[e._v("电源转换效率：从交流电转化为直流电时的效率，典型的 80 PLUS 认证电源在 50% 的负载下效率在 80 %到 90% 之间。")]),e._v(" "),r("li",[e._v("风扇和散热系统：每个风扇消耗约 2W 到 5W，如果机箱内有多个风扇，还挺耗电的。")]),e._v(" "),r("li",[e._v("内存和硬盘：内存和硬盘的功耗通常很低，不会对整机功耗产生太大影响。毕竟移动端整机也有硬盘盒内存，但是整机功耗也不高")])]),e._v(" "),r("p",[e._v("结论是很难把桌面端的整机功耗降到移动端的水平。")]),e._v(" "),r("p",[e._v("算算电费，每 100w 开 24 小时，电费按1元/度算，一年 876 元。还是继续使用笔记本 CPU 好了（")]),e._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.bilibili.com/read/cv4660605/",target:"_blank",rel:"noopener noreferrer"}},[e._v("关于ZEN2的PPT TDC EDC的理解 - 哔哩哔哩"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.chiphell.com/thread-2518522-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("待机功耗折腾经验 - 电脑讨论(新) - Chiphell - 分享与交流用户体验"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://chatgpt.com/share/4ef346e1-ae4f-4204-9f8f-9c019bc5d2c0",target:"_blank",rel:"noopener noreferrer"}},[e._v("调节5900X功耗 - ChatGPT"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=_.exports}}]);