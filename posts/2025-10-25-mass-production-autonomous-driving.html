<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【WIP】 《量产自动驾驶》笔记 | 小灰灰灰灰的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/theme/favicon.png">
    <link rel="alternate" type="application/rss+xml" href="https://blog.lyh543.cn/rss.xml" title="小灰灰灰灰的博客 RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://blog.lyh543.cn/feed.atom" title="小灰灰灰灰的博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://blog.lyh543.cn/feed.json" title="小灰灰灰灰的博客 JSON Feed">
    <meta name="description" content="

1986 年：卡梅隆大学 NavLab 1，神经网络，五台 PC，20km/h
1995 年：卡梅隆大学 NavLab 5，加装前视摄像头、GPS
2009 年：Google 研发自动驾驶汽车
2013 年：百度深度学习研究院启动自动驾驶项目

Robotaxi 成本不敏感，硬件可以在汽车量产后加装，计算平台可以使用 x86。

量产自动驾驶对成本敏感，硬件需要在整车设计阶段考 ...">
    
    <link rel="preload" href="/assets/css/0.styles.832ac33f.css" as="style"><link rel="preload" href="/assets/js/app.3219d3ca.js" as="script"><link rel="preload" href="/assets/js/233.e8b42580.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.832ac33f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="app" class="v-application v-application--is-ltr theme--light"><div class="v-application--wrap"><!----> <main id="main-content" class="v-main" style="padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;"><div class="v-main__wrap"><div><container class="article-column-container"><div class="article-column"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><div class="v-card v-sheet theme--light"><div class="container"><div itemprop="articleBody" class="markdown-body content__default"><h2 id="绪论"><a href="#绪论" class="header-anchor">#</a> 绪论</h2> <ul><li>1986 年：卡梅隆大学 NavLab 1，神经网络，五台 PC，20km/h</li> <li>1995 年：卡梅隆大学 NavLab 5，加装前视摄像头、GPS</li> <li>2009 年：Google 研发自动驾驶汽车</li> <li>2013 年：百度深度学习研究院启动自动驾驶项目</li></ul> <p>Robotaxi 成本不敏感，硬件可以在汽车量产后加装，计算平台可以使用 x86。</p> <p>量产自动驾驶对成本敏感，硬件需要在整车设计阶段考虑，计算平台一般使用嵌入式平台。但量产自动驾驶在研发过程中也会使用基于量产车改装后的原型车进行测试，只要自动驾驶系统和量产车解耦，就可以迁移到量产车。</p> <h2 id="产品篇"><a href="#产品篇" class="header-anchor">#</a> 产品篇</h2> <h3 id="传感器定义与作用"><a href="#传感器定义与作用" class="header-anchor">#</a> 传感器定义与作用</h3> <blockquote><p>由 DeepSeek 生成。</p></blockquote> <p>在自动驾驶感知硬件中，<strong>L（Lidar）、V（Vision/Camera）、R（Radar，又叫毫米波雷达）、USS（Ultrasonic Sensor）</strong> 是四种核心传感器，各自具有不同的特性和应用场景。以下是它们的详细对比及在自动驾驶功能中的配置建议：</p> <hr> <h4 id="_1-传感器定义与作用"><a href="#_1-传感器定义与作用" class="header-anchor">#</a> <strong>1. 传感器定义与作用</strong></h4> <table><thead><tr><th>传感器</th> <th>全称</th> <th>工作原理</th> <th>主要作用</th></tr></thead> <tbody><tr><td><strong>Lidar</strong></td> <td>Light Detection and Ranging</td> <td>发射激光脉冲并接收反射信号，生成3D点云</td> <td>高精度环境建模（距离、形状、深度）</td></tr> <tr><td><strong>Vision</strong></td> <td>摄像头</td> <td>光学成像，2D/3D视觉数据</td> <td>物体识别（车道线、交通标志、行人等）</td></tr> <tr><td><strong>Radar</strong></td> <td>Radio Detection and Ranging</td> <td>发射无线电波，测量反射信号</td> <td>测距、测速（尤其擅长运动物体）</td></tr> <tr><td><strong>USS</strong></td> <td>Ultrasonic Sonar Sensor</td> <td>发射超声波，测量回波时间</td> <td>近距离障碍物检测（&lt;5米）</td></tr></tbody></table> <hr> <h4 id="_2-优缺点对比"><a href="#_2-优缺点对比" class="header-anchor">#</a> <strong>2. 优缺点对比</strong></h4> <table><thead><tr><th>传感器</th> <th>优点</th> <th>缺点</th></tr></thead> <tbody><tr><td><strong>Lidar</strong></td> <td>高精度3D建模、不受光照影响</td> <td>成本高、雨雪天气性能下降</td></tr> <tr><td><strong>Vision</strong></td> <td>丰富语义信息（颜色、纹理）、成本低</td> <td>依赖光照、计算复杂度高</td></tr> <tr><td><strong>Radar</strong></td> <td>全天候工作、测速精准、长距离（200m+）</td> <td>分辨率低、无法识别物体细节</td></tr> <tr><td><strong>USS</strong></td> <td>低成本、近距离检测可靠</td> <td>短距离（&lt;5m）、易受噪声干扰</td></tr></tbody></table> <hr> <h4 id="_3-不同自动驾驶功能的传感器配置"><a href="#_3-不同自动驾驶功能的传感器配置" class="header-anchor">#</a> <strong>3. 不同自动驾驶功能的传感器配置</strong></h4> <h5 id="_1-自动泊车-apa-avp"><a href="#_1-自动泊车-apa-avp" class="header-anchor">#</a> <strong>(1) 自动泊车（APA/AVP）</strong></h5> <ul><li><strong>核心需求</strong>：厘米级近距离检测（车位、障碍物）。</li> <li><strong>典型配置</strong>：
<ul><li><strong>USS</strong> ×12（前后左右全覆盖）</li> <li><strong>后视摄像头</strong> ×1（视觉辅助）</li> <li><em>可选</em>：低线束Lidar（如4线）用于复杂场景。</li></ul></li></ul> <h5 id="_2-acc-自适应巡航"><a href="#_2-acc-自适应巡航" class="header-anchor">#</a> <strong>(2) ACC（自适应巡航）</strong></h5> <ul><li><strong>核心需求</strong>：中距离跟车、前车速度匹配。</li> <li><strong>典型配置</strong>：
<ul><li><strong>前向雷达</strong> ×1（主传感器，检测距离150m+）</li> <li><strong>前视摄像头</strong> ×1（目标识别冗余）</li> <li><em>无需Lidar</em>（传统方案依赖雷达+摄像头融合）。</li></ul></li></ul> <h5 id="_3-noa-导航辅助驾驶-如特斯拉noa、小鹏ngp"><a href="#_3-noa-导航辅助驾驶-如特斯拉noa、小鹏ngp" class="header-anchor">#</a> <strong>(3) NOA（导航辅助驾驶，如特斯拉NOA、小鹏NGP）</strong></h5> <ul><li><strong>核心需求</strong>：高速/城市道路的路径规划、避障。</li> <li><strong>典型配置</strong>：
<ul><li><strong>高线束Lidar</strong> ×1（如32线或64线，L4预埋车型）</li> <li><strong>摄像头</strong> ×8（360°覆盖，包括鱼眼镜头）</li> <li><strong>毫米波雷达</strong> ×3-5（前向+侧向）</li> <li><em>备注</em>：纯视觉方案（如特斯拉）仅依赖摄像头+AI算法。</li></ul></li></ul> <h5 id="_4-l4级自动驾驶-robotaxi"><a href="#_4-l4级自动驾驶-robotaxi" class="header-anchor">#</a> <strong>(4) L4级自动驾驶（Robotaxi）</strong></h5> <ul><li><strong>核心需求</strong>：全场景、冗余感知。</li> <li><strong>典型配置</strong>：
<ul><li><strong>Lidar</strong> ×2-4（360°覆盖，如Waymo用5台Lidar）</li> <li><strong>摄像头</strong> ×10+（多光谱、广角、长焦）</li> <li><strong>毫米波雷达</strong> ×6-8（前向+角雷达）</li> <li><strong>USS</strong> ×12（近距离补盲）</li> <li><em>冗余设计</em>：多传感器交叉验证，确保安全。</li></ul></li></ul> <hr> <h4 id="_4-趋势与成本考量"><a href="#_4-趋势与成本考量" class="header-anchor">#</a> <strong>4. 趋势与成本考量</strong></h4> <ul><li><strong>Lidar</strong>：L4必备，但成本下降（如禾赛AT128降至$500级别）。</li> <li><strong>纯视觉方案</strong>：依赖强大算法（如特斯拉FSD），但极端场景受限。</li> <li><strong>Radar+USS</strong>：成熟低成本方案，适用于L2-L3。</li></ul> <hr> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> <strong>总结</strong></h4> <ul><li><strong>泊车</strong>：USS为主，视觉辅助。</li> <li><strong>ACC</strong>：1雷达+1摄像头。</li> <li><strong>NOA</strong>：1-2 Lidar + 多摄像头 + 雷达（或纯视觉）。</li> <li><strong>L4</strong>：多Lidar + 多摄像头 + 雷达 + USS，全冗余配置。</li></ul> <p>实际配置因厂商技术路线（如特斯拉拒绝Lidar）和成本控制而异，但传感器融合（Fusion）是高级自动驾驶的核心方向。</p> <h3 id="lidar-和-radar-的核心区别"><a href="#lidar-和-radar-的核心区别" class="header-anchor">#</a> <strong>Lidar 和 Radar 的核心区别</strong></h3> <p>Lidar（激光雷达）和 Radar（毫米波雷达）都是主动测距传感器，但工作原理、性能和应用场景有显著差异：</p> <table><thead><tr><th><strong>对比维度</strong></th> <th><strong>Lidar（激光雷达）</strong></th> <th><strong>Radar（毫米波雷达）</strong></th></tr></thead> <tbody><tr><td><strong>工作原理</strong></td> <td>发射激光束（波长~905nm或1550nm），测量反射时间</td> <td>发射无线电波（频率77GHz为主），测量反射波</td></tr> <tr><td><strong>测距精度</strong></td> <td>厘米级（高精度）</td> <td>米级（相对较低）</td></tr> <tr><td><strong>测速能力</strong></td> <td>间接测速（通过多帧点云差分计算）</td> <td>直接测速（多普勒效应，实时精准）</td></tr> <tr><td><strong>分辨率</strong></td> <td>高（可识别物体轮廓、细节）</td> <td>低（只能检测到“点”或“块”）</td></tr> <tr><td><strong>环境建模能力</strong></td> <td>强（生成3D点云，适合SLAM、高精地图）</td> <td>弱（仅提供距离和速度信息）</td></tr> <tr><td><strong>有效距离</strong></td> <td>通常50-200m（高端Lidar可达300m+）</td> <td>长距离雷达（LRR）可达200-300m</td></tr> <tr><td><strong>天气适应性</strong></td> <td>雨雪雾霾性能下降（激光易散射）</td> <td>全天候工作（穿透性强）</td></tr> <tr><td><strong>成本</strong></td> <td>高（尤其是高线束Lidar）</td> <td>低（成熟产业链）</td></tr></tbody></table> <hr> <h4 id="关键问题解析"><a href="#关键问题解析" class="header-anchor">#</a> <strong>关键问题解析</strong></h4> <h5 id="_1-radar-频率更高-所以更擅长测速"><a href="#_1-radar-频率更高-所以更擅长测速" class="header-anchor">#</a> 1. <strong>Radar 频率更高，所以更擅长测速？</strong></h5> <ul><li><strong>是的</strong>，Radar 利用 <strong>多普勒效应</strong> 直接测量速度：
<ul><li>雷达发射的电磁波（如77GHz）遇到运动物体时，反射波频率会偏移，通过计算频率差可 <strong>直接</strong> 得到物体的径向速度，精度可达0.1m/s。</li> <li>Lidar 需要通过多帧点云数据的位移差分 <strong>间接</strong> 计算速度，实时性和精度不如雷达。</li></ul></li> <li><strong>频率与测速的关系</strong>：<br>
高频雷达（如77GHz）波长更短（~4mm），对微小运动更敏感，因此测速能力优于低频雷达（如24GHz）。</li></ul> <h5 id="_2-lidar-距离远-所以适合环境建模"><a href="#_2-lidar-距离远-所以适合环境建模" class="header-anchor">#</a> 2. <strong>Lidar 距离远，所以适合环境建模？</strong></h5> <ul><li><strong>部分正确</strong>，但核心优势在于 <strong>分辨率</strong> 而非单纯距离：
<ul><li>Lidar 通过激光束扫描生成 <strong>高密度3D点云</strong>，能精确还原物体形状（如车道线、车辆轮廓），适合构建环境模型（如高精地图、SLAM）。</li> <li>Radar 的无线电波波长较长（毫米级），分辨率低，只能检测到模糊的“点”或“面”，无法用于精细建模。</li></ul></li> <li><strong>距离对比</strong>：
<ul><li>高端Lidar（如Luminar Iris）探测距离可达250m+，但实际有效距离受天气影响大。</li> <li>长距离雷达（LRR）同样可达200-300m，且不受天气影响，但缺乏细节信息。</li></ul></li></ul> <hr> <h4 id="典型应用场景"><a href="#典型应用场景" class="header-anchor">#</a> <strong>典型应用场景</strong></h4> <ol><li><p><strong>Radar 的核心优势</strong></p> <ul><li><strong>ACC自适应巡航</strong>：依赖雷达精准测速，实现跟车。</li> <li><strong>AEB自动紧急制动</strong>：雷达在雾霾/黑夜中仍能检测前方障碍物。</li> <li><strong>盲点监测（BSD）</strong>：角雷达检测侧后方来车。</li></ul></li> <li><p><strong>Lidar 的核心优势</strong></p> <ul><li><strong>L4自动驾驶</strong>：360°点云建模，识别无标线道路、异形障碍物。</li> <li><strong>高精地图采集</strong>：厘米级精度还原道路结构。</li> <li><strong>Robotaxi</strong>：冗余感知中不可或缺的传感器。</li></ul></li></ol> <hr> <h4 id="技术趋势"><a href="#技术趋势" class="header-anchor">#</a> <strong>技术趋势</strong></h4> <ul><li><strong>4D成像雷达</strong>：通过增加俯仰角分辨率和点云密度，部分替代Lidar功能（如Waymo部分车型已尝试）。</li> <li><strong>Lidar固态化</strong>：降低成本和体积（如VCSEL激光器+SPAD接收器方案）。</li> <li><strong>传感器融合</strong>：Radar弥补Lidar的测速和天气短板，Lidar弥补Radar的分辨率缺陷（如特斯拉HW4.0虽未用Lidar，但增加了高分辨率雷达）。</li></ul> <hr> <h4 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> <strong>总结</strong></h4> <ul><li><strong>测速选Radar</strong>：多普勒效应直接测速，实时性碾压Lidar。</li> <li><strong>建模选Lidar</strong>：高分辨率点云是环境感知的黄金标准。</li> <li><strong>实际系统</strong>：两者互补（如L4方案通常同时部署Lidar+Radar+摄像头）。</li></ul> <h3 id="lidar-和-radar-的-分辨率-详解"><a href="#lidar-和-radar-的-分辨率-详解" class="header-anchor">#</a> <strong>Lidar 和 Radar 的“分辨率”详解</strong></h3> <p>分辨率是传感器区分两个相邻目标的能力，对自动驾驶的感知至关重要。Lidar和Radar的分辨率差异可以用 <strong>“素描画” vs “模糊照片”</strong> 来形象理解：</p> <hr> <h4 id="_1-lidar-的分辨率-高精度-素描画"><a href="#_1-lidar-的分辨率-高精度-素描画" class="header-anchor">#</a> <strong>1. Lidar 的分辨率：高精度“素描画”</strong></h4> <ul><li><p><strong>定义</strong>：<br>
Lidar的分辨率取决于激光束的 <strong>角分辨率</strong>（如0.1°×0.1°）和 <strong>点云密度</strong>。高分辨率Lidar可以区分相距仅几厘米的物体。</p></li> <li><p><strong>比喻</strong>：<br>
像用铅笔在纸上画素描，能清晰勾勒出物体的边缘和细节（如车轮、车牌、行人手臂的摆动）。</p> <ul><li><strong>示例</strong>：64线Lidar扫描一辆车，能清晰看到车门把手、后视镜等细节（点云密集）。</li> <li><strong>数据表现</strong>：单帧点云可达数万至百万个点，形成高精度3D模型。</li></ul></li> <li><p><strong>影响因素</strong>：</p> <ul><li><strong>线数</strong>：16线Lidar像“简笔画”，64线像“精细素描”。</li> <li><strong>波长</strong>：激光波长（纳米级）远小于雷达（毫米级），因此能捕捉微小特征。</li></ul></li></ul> <hr> <h4 id="_2-radar-的分辨率-低精度-模糊照片"><a href="#_2-radar-的分辨率-低精度-模糊照片" class="header-anchor">#</a> <strong>2. Radar 的分辨率：低精度“模糊照片”</strong></h4> <ul><li><p><strong>定义</strong>：<br>
Radar的分辨率由天线阵列和波长决定（77GHz雷达的典型分辨率约1°×1°），只能区分相距较远的物体。</p></li> <li><p><strong>比喻</strong>：<br>
像用沾水的毛笔在宣纸上涂抹，只能看到模糊的色块（例如“前方有一团东西在移动”，但分不清是车还是卡车）。</p> <ul><li><strong>示例</strong>：雷达可能将并排行驶的两辆车识别为一个“大目标”，而Lidar能明确区分两车。</li> <li><strong>数据表现</strong>：输出为稀疏点簇，无法还原物体形状。</li></ul></li> <li><p><strong>影响因素</strong>：</p> <ul><li><strong>波长</strong>：无线电波波长（毫米级）远大于激光，导致衍射严重，细节丢失。</li> <li><strong>天线数量</strong>：4D成像雷达通过增加天线提升分辨率，但仍不及Lidar。</li></ul></li></ul> <hr> <h4 id="_3-分辨率对自动驾驶的影响"><a href="#_3-分辨率对自动驾驶的影响" class="header-anchor">#</a> <strong>3. 分辨率对自动驾驶的影响</strong></h4> <table><thead><tr><th><strong>场景</strong></th> <th><strong>Lidar（高分辨率）</strong></th> <th><strong>Radar（低分辨率）</strong></th></tr></thead> <tbody><tr><td><strong>识别静止小物体</strong></td> <td>能检测路面的砖块、轮胎碎片</td> <td>可能过滤为噪声（无法区分物体与地面）</td></tr> <tr><td><strong>车道线/道路边缘</strong></td> <td>可重建车道线曲线（厘米级精度）</td> <td>完全无法识别</td></tr> <tr><td><strong>多目标区分</strong></td> <td>能分离密集车流中的相邻车辆</td> <td>可能将多车合并为一个目标</td></tr> <tr><td><strong>行人姿态判断</strong></td> <td>识别举手、弯腰等动作</td> <td>仅能检测到“有一个移动的点”</td></tr></tbody></table> <hr> <h4 id="_4-技术对比的生动案例"><a href="#_4-技术对比的生动案例" class="header-anchor">#</a> <strong>4. 技术对比的生动案例</strong></h4> <ul><li><p><strong>案例1：检测铁丝网</strong></p> <ul><li>Lidar：能看到铁丝网的网格结构（高分辨率）。</li> <li>Radar：可能完全穿透或显示为“一片噪声”（波长太长，无法反射）。</li></ul></li> <li><p><strong>案例2：隧道内车辆排队</strong></p> <ul><li>Lidar：能清晰数出每辆车的位置和间距。</li> <li>Radar：可能输出“一长条障碍物”（无法分辨车间隙）。</li></ul></li></ul> <hr> <h4 id="_5-如何提升分辨率"><a href="#_5-如何提升分辨率" class="header-anchor">#</a> <strong>5. 如何提升分辨率？</strong></h4> <ul><li><p><strong>Lidar</strong>：</p> <ul><li>增加激光线数（如从16线→128线）。</li> <li>提高扫描频率（如从10Hz→20Hz）。</li></ul></li> <li><p><strong>Radar</strong>：</p> <ul><li>使用 <strong>4D成像雷达</strong>（通过MIMO天线增加虚拟通道）。</li> <li>提升算法（如AI去模糊，但受物理限制难以媲美Lidar）。</li></ul></li></ul> <hr> <h4 id="总结-3"><a href="#总结-3" class="header-anchor">#</a> <strong>总结</strong></h4> <ul><li><strong>Lidar分辨率</strong>：像“高清扫描仪”，适合需要厘米级精度的场景（如避让路桩、识别施工锥桶）。</li> <li><strong>Radar分辨率</strong>：像“高度近视眼”，依赖运动目标和速度信息（如高速跟车）。</li> <li><strong>互补性</strong>：Radar的强项是测速和全天候，Lidar的强项是建模和细节，两者结合才能实现鲁棒的自动驾驶。</li></ul> <h3 id="lidar-和-radar-的数据融合详解"><a href="#lidar-和-radar-的数据融合详解" class="header-anchor">#</a> Lidar 和 Radar 的数据融合详解</h3> <p>在自动驾驶系统中，<strong>Lidar</strong> 和 <strong>Radar</strong> 的数据融合（Sensor Fusion）是感知层的关键环节，目的是为 <strong>Planning（路径规划）</strong> 和 <strong>Control（控制执行）</strong> 提供更可靠的环境信息。以下是它们的结合方式及融合操作的详细解析：</p> <hr> <h4 id="_1-数据融合的核心目标"><a href="#_1-数据融合的核心目标" class="header-anchor">#</a> <strong>1. 数据融合的核心目标</strong></h4> <ul><li><strong>互补优势</strong>：
<ul><li><strong>Lidar</strong> 提供高分辨率3D环境模型（形状、距离、静态物体）。</li> <li><strong>Radar</strong> 提供精准速度信息和全天候探测能力（动态物体、恶劣天气）。</li></ul></li> <li><strong>冗余校验</strong>：通过多传感器交叉验证，降低误检（False Positive）和漏检（False Negative）风险。</li></ul> <hr> <h4 id="_2-融合层级与方法"><a href="#_2-融合层级与方法" class="header-anchor">#</a> <strong>2. 融合层级与方法</strong></h4> <h5 id="_1-前融合-early-fusion"><a href="#_1-前融合-early-fusion" class="header-anchor">#</a> <strong>(1) 前融合（Early Fusion）</strong></h5> <ul><li><strong>原理</strong>：在原始数据层面融合（如点云与雷达信号直接叠加）。</li> <li><strong>优点</strong>：保留最多信息，适合深度学习模型（如BEVNet）。</li> <li><strong>缺点</strong>：计算量大，需时间同步和坐标对齐。</li> <li><strong>示例</strong>：
<ul><li>Lidar点云 + Radar点云 → 统一的空间栅格（Occupancy Grid）。</li></ul></li></ul> <h5 id="_2-后融合-late-fusion"><a href="#_2-后融合-late-fusion" class="header-anchor">#</a> <strong>(2) 后融合（Late Fusion）</strong></h5> <ul><li><strong>原理</strong>：各传感器独立处理，再合并结果（如目标级融合）。</li> <li><strong>优点</strong>：模块化设计，容错性强。</li> <li><strong>缺点</strong>：信息损失较多。</li> <li><strong>示例</strong>：
<ul><li>Lidar检测到“车辆轮廓” + Radar检测到“前方80m有物体以60km/h移动” → 融合为“一辆以60km/h行驶的汽车”。</li></ul></li></ul> <h5 id="_3-深度学习融合"><a href="#_3-深度学习融合" class="header-anchor">#</a> <strong>(3) 深度学习融合</strong></h5> <ul><li><strong>原理</strong>：用神经网络（如Transformer）直接学习多模态数据关联。</li> <li><strong>典型模型</strong>：
<ul><li><strong>BEVFusion</strong>（Lidar+Camera+Radar的鸟瞰图融合）。</li> <li><strong>Radar-Lidar Cross-Attention</strong>（雷达辅助补全Lidar缺失帧）。</li></ul></li></ul> <hr> <h4 id="_3-融合后如何服务planning-control"><a href="#_3-融合后如何服务planning-control" class="header-anchor">#</a> <strong>3. 融合后如何服务Planning &amp; Control？</strong></h4> <h5 id="_1-动态物体追踪-tracking"><a href="#_1-动态物体追踪-tracking" class="header-anchor">#</a> <strong>(1) 动态物体追踪（Tracking）</strong></h5> <ul><li><strong>任务</strong>：预测周围车辆/行人的轨迹。</li> <li><strong>融合贡献</strong>：
<ul><li>Lidar提供位置和形状，Radar提供实时速度 → 卡尔曼滤波（Kalman Filter）预测未来位置。</li></ul></li></ul> <h5 id="_2-可行驶区域划分-free-space"><a href="#_2-可行驶区域划分-free-space" class="header-anchor">#</a> <strong>(2) 可行驶区域划分（Free Space）</strong></h5> <ul><li><strong>任务</strong>：规划安全路径。</li> <li><strong>融合贡献</strong>：
<ul><li>Lidar点云生成高精度占据栅格图，Radar过滤动态障碍物 → 区分静态可行驶区域和移动障碍物。</li></ul></li></ul> <h5 id="_3-控制指令生成-control"><a href="#_3-控制指令生成-control" class="header-anchor">#</a> <strong>(3) 控制指令生成（Control）</strong></h5> <ul><li><strong>任务</strong>：计算油门、刹车、转向。</li> <li><strong>融合贡献</strong>：
<ul><li>前方车辆距离（Lidar） + 相对速度（Radar） → ACC控制器计算跟车距离。</li></ul></li></ul> <hr> <h4 id="_4-典型融合案例"><a href="#_4-典型融合案例" class="header-anchor">#</a> <strong>4. 典型融合案例</strong></h4> <h5 id="场景-高速跟车-acc-车道保持"><a href="#场景-高速跟车-acc-车道保持" class="header-anchor">#</a> <strong>场景：高速跟车（ACC+车道保持）</strong></h5> <ol><li><strong>Radar</strong> 检测到前车距离100m，速度80km/h。</li> <li><strong>Lidar</strong> 确认前车为SUV，并检测到车道线。</li> <li><strong>融合算法</strong> 校验数据一致性，排除Radar的误检（如桥梁金属反射）。</li> <li><strong>Planning</strong> 基于融合结果，决策“保持车速，距离前车50m”。</li> <li><strong>Control</strong> 输出刹车/油门指令，同时微调方向盘保持车道居中。</li></ol> <h5 id="极端场景-大雾天气"><a href="#极端场景-大雾天气" class="header-anchor">#</a> <strong>极端场景：大雾天气</strong></h5> <ul><li>Lidar点云因雾气散射失效 → 依赖Radar持续提供目标速度和位置 → Planning降级为保守策略（如限速行驶）。</li></ul> <hr> <h4 id="_5-技术挑战"><a href="#_5-技术挑战" class="header-anchor">#</a> <strong>5. 技术挑战</strong></h4> <ul><li><strong>时间同步</strong>：Lidar（10Hz）和Radar（20Hz）数据需严格对齐。</li> <li><strong>坐标统一</strong>：将各传感器数据转换到车辆坐标系（需标定外参）。</li> <li><strong>冲突处理</strong>：当Lidar和Radar结果不一致时（如Radar检测到幽灵障碍物），需置信度加权或AI仲裁。</li></ul> <hr> <h4 id="_6-行业实践"><a href="#_6-行业实践" class="header-anchor">#</a> <strong>6. 行业实践</strong></h4> <ul><li><strong>Waymo</strong>：Lidar为主，Radar用于测速和冗余，融合后生成4D动态地图。</li> <li><strong>Tesla</strong>（纯视觉+Radar时代）：用Radar补偿摄像头在测速和夜间能力的不足。</li> <li><strong>4D成像雷达</strong>：新一代雷达（如Arbe）尝试通过提升分辨率部分替代Lidar功能。</li></ul> <hr> <h4 id="总结-4"><a href="#总结-4" class="header-anchor">#</a> <strong>总结</strong></h4> <ul><li><strong>融合操作</strong> 本质是整合多传感器数据，为下游模块提供更完整的感知结果。</li> <li><strong>Planning &amp; Control</strong> 依赖融合后的统一环境模型，而非原始传感器数据。</li> <li><strong>未来趋势</strong>：
<ul><li>更紧密的端到端融合（如UniAD）。</li> <li>低成本的4D雷达+低线束Lidar组合。</li></ul></li></ul> <h2 id="算法篇"><a href="#算法篇" class="header-anchor">#</a> 算法篇</h2> <h3 id="真值获取"><a href="#真值获取" class="header-anchor">#</a> 真值获取</h3> <p>这里主要是为了尽可能地获取高质量的真值标签，同时降低获取真值的成本。</p> <ol><li>云端大模型真值获取：车端只能使用小模型，如果学术界已经有现成的大模型可以良好地输出真值，可以使用云端大模型来生成真值标签，辅以人工标注，再喂给车端小模型进行训练。这种学习的本质是知识蒸馏。</li> <li>激光雷达真值获取：激光点云具有很高的三维精度，可以作为摄像头等其他传感器的真值标签来源。缺点：极近区域是盲区、极远区域点稀疏、视角问题（所以推荐把不同传感器安装得尽量靠近）。时间同步要到毫秒级别。</li> <li>高精地图真值获取：高精地图可以作为车道线、交通标志等的真值标签来源。缺点：高精地图的制作和维护成本较高。</li></ol></div> <hr role="separator" aria-orientation="horizontal" class="ma-4 v-divider theme--light"> <div data-v-54a1e472><script src="https://giscus.app/client.js" async="async" service="giscus" data-repo="lyh543/blog-comments" data-repo-id="R_kgDOHIb2Zg" data-category="Announcements" data-category-id="DIC_kwDOHIb2Zs4COh2z" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" data-v-54a1e472></script></div></div></div></article></div> <!----></container> <div class="v-dialog__container"><button type="button" role="button" aria-haspopup="true" aria-expanded="false" class="v-btn v-btn--bottom v-btn--is-elevated v-btn--fab v-btn--fixed v-btn--has-bg v-btn--right v-btn--round theme--dark v-size--default primary"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-information-variant theme--dark"></i></span></button><!----></div></div></div></main> <footer id="footer" class="v-footer v-sheet theme--light v-footer--absolute v-footer--padless v-footer--inset" style="left:0px;right:0px;bottom:0px;"><div class="lighten-1 text-center v-card v-sheet theme--light rounded-0" style="width:100%;"><div class="v-card__text"><a href="https://github.com/lyh543/vuepress-theme-blog-material/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-github theme--light" style="font-size:24px;"></i></span></a><a href="https://blog.lyh543.cn/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-web theme--light" style="font-size:24px;"></i></span></a><a href="mailto:lyh543@outlook.com" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-email theme--light" style="font-size:24px;"></i></span></a><a href="https://weibo.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-sina-weibo theme--light" style="font-size:24px;"></i></span></a><a href="https://weixin.qq.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-wechat theme--light" style="font-size:24px;"></i></span></a><a href="https://qq.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-qqchat theme--light" style="font-size:24px;"></i></span></a><a href="https://bilibili.com/" target="_blank" class="mx-4 v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><div class="v-image v-responsive theme--light" style="max-width:24px;"><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a></div> <hr role="separator" aria-orientation="horizontal" class="v-divider theme--light"> <div class="v-card__text"><span class="footer-text">lyh543 © 2019 - 2024</span>
        |
      <a href="https://beian.miit.gov.cn/" target="_blank" class="footer-link">蜀ICP备19034464号</a>
        |
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" class="footer-link">署名 - 非商业性 - 相同方式共享 4.0 国际协议</a>
        |
       <span class="footer-text">
        Theme
        <a href="https://github.com/lyh543/vuepress-theme-blog-material/" target="_blank" class="footer-link">
          vuepress-theme-blog-material
        </a></span></div></div></footer></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3219d3ca.js" defer></script><script src="/assets/js/233.e8b42580.js" defer></script>
  </body>
</html>
